---
title: Игровые Механики - Полное Руководство
description: Описание всех игровых механик, взаимодействий между системами, эмергентного поведения и как игрок наблюдает и влияет на игровой мир
keywords:
  - механики
  - геймплей
  - игровые системы
  - взаимодействие
  - эмергентное поведение
  - игровые циклы
  - наблюдение
  - влияние
  - динамика
  - сложные системы
lang: ru
---

# Игровые Механики - Полное Руководство

## Обзор

Игровые механики "Живого Мира" — это набор взаимодействующих систем, которые вместе создают богатое, динамичное симуляционное пространство. Не существует жёсткого "игрового цикла" в традиционном смысле (получи задачу → выполни → получи награду). Вместо этого игрок **наблюдает** развивающийся мир, где каждое действие NPC имеет причины и следствия.

**Ключевая философия:** Все в этой симуляции должно **возникать** (emergent), а не быть запрограммировано. Классы не созданы жёстко — они появляются естественным образом из отношений собственности. Идеология не задана — она формируется из опыта NPC. Конфликты не инсценируются — они возникают из реальных противоречий.

---

## 1. Производственные Механики

### 1.1. Цикл Производства

Производство — это фундаментальная механика, лежащая в основе всех экономических взаимодействий:

```
1. NPC выбирает ProductionMethod (основано на потребностях и убеждениях)
   ↓
2. Проверяются prerequisites: наличие ресурсов, инструментов, технологий
   ↓
3. NPC тратит время (hours) на производство
   ↓
4. Производится output (еда, инструменты, ремёсла)
   ↓
5. Если собственность PRIVATE → собственник присваивает результат
   ↓
6. Если COMMUNAL → результат распределяется по нормам
```

**Пример: Охота**

```
Охотник Иван видит низкий уровень еды → формирует Desire "охотиться"
Belief: "В лесу много оленей" (воспоминание о успешной охоте)
Intention: "Охотиться сегодня" → Action: идёт на охоту

ProductionMethod.HUNTING требует:
- Инструмент: лук (даёт бонус +20%)
- Место: Лес (содержит оленей)
- Время: 8 часов
- Навык Hunting: уровень 5+

После охоты: 5 кг мяса + 2 кг шкур

Если Иван собственник охотничьих угодий → мясо его
Если охотится на общинных землях → мясо поступает в запасы общины
```

### 1.2. Интеграция с Другими Системами

**Климат влияет на производство:**
- Засуха → -50% урожайность от земледелия
- Суровая зима → невозможна охота, нужно полагаться на запасы
- Наводнение → утопаются урожаи, растёт смертность

**Технология повышает эффективность:**
```
Метод GATHERING (собирательство)
  без инструментов: 2 кг/час
  с палкой-копалкой (технология DIGGING): 4 кг/час (x2)
  с железным инструментом (технология IRON_TOOLS): 6 кг/час (x3)
```

**Собственность меняет распределение:**
```
Сценарий 1: Общинное земледелие
  Все работают на общинном поле → урожай = 500 кг зерна
  Распределение: каждому по 50 кг (если 10 человек)

Сценарий 2: Частная земля возникла
  Помещик владеет лучшей землёй → ему 60% от урожая
  Батраки работают на него → им 10% от выручки
  Результат: Помещик получает 300 кг, батраки по 10 кг (эксплуатация)
```

### 1.3. Эмергентное Возникновение Классов Через Производство

Один из самых интересных моментов симуляции — как классовая система возникает **натурально** из экономики:

**Фаза 1: Примитивная Коммуна (год 1-30)**
- Все производят примерно поровну
- Небольших избыточный продукт распределяется справедливо
- Нет частной собственности
- Все — в одном классе: PEASANT (свободный крестьянин)

**Фаза 2: Возникновение Собственности (год 30-80)**
- Рождаются технологии, растёт производство
- Возникает избыточный продукт
- Некоторые семьи начинают накапливать богатство
- Появляется частная собственность на плодородные земли
- Система классов: LANDOWNER (владелец) vs LABORER (батрак)

**Фаза 3: Ремесленное Расслоение (год 80-150)**
- Появляются специализированные CRAFTSMAN (ремесленники)
- Ремесленники продают товары за деньги
- Возникает торговля между поселениями
- Система класов усложняется

**Код, реализующий это:**
```python
# Из economy/property.py - автоматическое определение класса

def determine_npc_class(npc: Character, world_state: Dict) -> ClassType:
    """
    Определить класс NPC на основе его экономического положения.
    Это происходит АВТОМАТИЧЕСКИ, не жёстко задано.
    """

    # Сколько средств производства владеет NPC
    owned_land = count_owned_property(npc)
    tools_owned = count_owned_tools(npc)
    wealth = npc.wealth

    # Сколько времени работает на других
    hours_as_laborer = count_hours_worked_for_others(npc)

    # Сколько часов работал самостоятельно
    hours_independent = npc.experience - hours_as_laborer

    # Определение класса (возникает ДИНАМИЧЕСКИ)
    if owned_land > 50 and wealth > 5000:
        return ClassType.LANDOWNER  # Владелец земли
    elif owned_land > 0 and wealth > 1000:
        return ClassType.CRAFTSMAN  # Ремесленник-собственник
    elif hours_as_laborer > hours_independent * 0.7:
        return ClassType.LABORER    # Батрак (работает на других)
    else:
        return ClassType.PEASANT    # Независимый крестьянин
```

### 1.4. Торговля как Механика Обмена

Торговля возникает, когда NPC имеют **избыток** товара:

```
Сценарий: Две деревни, разные ресурсы

Деревня А: богата зерном (урожай 1000 кг), но нет металла
Деревня Б: богата рудой, но мало зерна

Торговец из деревни А берёт 200 кг зерна, идёт в Б
Торговец из деревни Б берёт 50 кг руды

Обмен: 200 кг зерна = 50 кг руды
Оба выигрывают (специализация повышает эффективность)

Со временем возникает:
- Цены на товары (формируются из спроса-предложения)
- Специализация деревень (каждая знает, что производить)
- Монеты вместо прямого обмена (удобнее)
- Купцы (профессия, которая фокусируется на торговле)
```

---

## 2. Семейные Механики

### 2.1. Создание Семьи и Наследование

Семья — это базовая социальная единица, передающая не только гены, но и знания:

```
1. Двое молодых NPC встречаются (отношение: LOVE растёт)
2. Они женятся (создаётся Marriage, они получают MARRIED статус)
3. Рождается ребёнок (наследует 50% ДНК от каждого)
4. Родители учат ребёнка:
   - Гены: наследуемые черты (сила, интеллект, красота)
   - Навыки: родители передают до 50% своих навыков
   - Знания: ребёнок рождается со знанием技ологий родителей
   - Верования: наследуются верования семьи

5. После смерти родителей:
   - Материальное имущество переходит наследникам
   - Собственность теряется, если нет наследников
```

**Пример наследования с классовым аспектом:**

```
Помещик Александр (класс LANDOWNER):
- Владеет землёй (50 га)
- Богатство: 10000 денег
- Навык FARMING: 80
- Верование: "Помещики — естественные лидеры"

Сын Виктор наследует:
- 50% генов (красивый, как отец, но не такой сильный)
- Навыки: FARMING повышается на 40 (50% от отца)
- Знание AGRICULTURE (открытая отцом технология)
- Верование: "Помещики — естественные лидеры" (от семьи)
- Земля: 50 га (переходит по наследству)
- Богатство: 10000 денег (переходит)

Виктор рождается уже LANDOWNER благодаря наследству, даже если бы не было его личных качеств.
```

### 2.2. Семейные Конфликты и Разводы

Семьи не вечны. Если отношения портятся, может произойти развод:

```
Супруги спорят (Argument event):
- Причина может быть разной (разные верования, финансовые трудности)
- Каждый оценивает отношения (иногда можно помириться)
- Если Opinion < -50 → развод

При разводе:
- Имущество делится (обычно 50/50, но может быть конфликт)
- Дети остаются с одним из родителей (обычно с матерью)
- Каждый может вступить в новый брак позже
```

### 2.3. Браки Между Классами

Браки часто служат механизмом для объединения классов или преодоления классовых границ:

```
Леди Екатерина (LANDOWNER):
- Богатая помещица, образованная
- Выходит замуж за Петра (LABORER)
- Социальный скандал: "Леди мешанается с батраком!"

Результат:
- Петр становится богаче (получает доступ к земле)
- Екатерина может потерять статус в обществе
- Дети рождаются в смешанном социальном положении
- Создаётся социальная напряженность
```

---

## 3. Классовые Конфликты

### 3.1. Возникновение Классового Сознания

Классовое сознание — это **постепенное** осознание NPC своего классового положения. Оно возникает, когда множественные события указывают на одну и ту же экономическую реальность:

```
Батрак Иван в течение 5 лет замечает:
1. Помещик присваивает 70% его урожая
2. Другие батраки в деревне говорят о несправедливости
3. Когда приходит голод, помещик выживает, а батраки голодают
4. Батрак из соседней деревни сказал: "Мы все — батраки, и помещик нас эксплуатирует"

После этих наблюдений:
- Belief изменяется: "Я — батрак" (вместо просто "Я работник")
- ClassConsciousness поднимается с NAIVE → EMERGING
- Иван теперь активнее взаимодействует с другими батраками
- Его Desires включают "свергнуть помещика" (революционное желание)
```

**Фазы развития классового сознания (по Грамши):**

1. **NAIVE** (Наивное)
   - "Я просто работник, вот так жизнь устроена"
   - Нет осознания эксплуатации
   - Помещик воспринимается как естественный лидер

2. **EMERGING** (Возникающее)
   - "Хм, почему-то помещик всегда богаче, а я нет..."
   - Начинают замечать несправедливость
   - Слушают мнения других

3. **ACTIVE** (Активное)
   - "Это несправедливо! Помещик эксплуатирует нас!"
   - Готовы действовать (забастовка, протест)
   - Становятся "органическими интеллектуалами"

4. **REVOLUTIONARY** (Революционное)
   - "Система должна измениться полностью"
   - Организуют восстания
   - Готовы умереть за класс

### 3.2. Забастовки и Восстания

Когда классовое сознание достаточно развито, возникают конфликты:

```
Сценарий: Забастовка

Условие:
- Много батраков с классовым сознанием >= ACTIVE
- Экономическое событие (плохой урожай, голод)
- Лидер (органический интеллектуал) призывает к действию

Забастовка начинается:
1. Батраки отказываются работать
2. Производство падает (урожай не собирается)
3. Помещик теряет доход
4. Напряжение растёт

Возможные исходы:
A) Помещик даёт уступки (повышает зарплату) → батраки довольны
B) Помещик нанимает наёмников → вооружённый конфликт
C) Батраки свергают помещика → революция (если достаточно сильны)
D) Конфликт разрешается компромиссом

Результат в любом случае: мир изменяется
```

### 3.3. Революции

Полномасштабная революция — это редкое, но возможное событие:

```
Условие революции:
- Класс LABORER имеет среднее сознание >= REVOLUTIONARY (70%+)
- Растёт экономическое неравенство (Gini > 0.5)
- Есть хотя бы один лидер (органический интеллектуал)

Фазы революции:
1. Подготовка (втайне планируют восстание)
2. Вспышка (открытое восстание начинается)
3. Конфликт (вооружённые столкновения)
4. Исход (победа революционеров или подавление)

Если революция победит:
- Земля отбирается у помещиков
- Собственность становится коммунальной (или переходит к лидерам)
- Классовая система переструктурируется
- Возможна гражданская война между регионами
```

---

## 4. Культурные Механики

### 4.1. Возникновение Верований

Верования не задаются жёстко — они формируются из опыта и событий:

```
Событие: Засуха в течение 3 лет

Наблюдения NPC:
1. Урожаи падают → люди голодают
2. "Почему это происходит?" → NPC ищет объяснение
3. Старик говорит: "Это гнев богов, потому что мы нарушили закон"
4. Экологическое объяснение не помогает (люди не знают причину засухи)

Возникает верование:
- Belief: "Боги гневаются на нас"
- Ritual: проводят жертвоприношение (убивают быка в честь богов)
- Norm: "Каждое лето нужно проводить ритуал плодородия"

Год спустя: засуха заканчивается (случайно!)
Интерпретация:
- "Боги услышали наши молитвы!" → верование укрепляется
- Даже если засуха была бы и без молитв, люди не это не знают

Результат: возникла религия!
```

### 4.2. Распространение Идеологии

Идеология часто служит инструментом для оправдания классовой системы:

```
Помещик Граф нанимает священника, который проповедует:
- "Помещик поставлен богом над крестьянством"
- "Повиноваться помещику — это воля божья"
- "Крестьяне рождены для труда, помещики — для руководства"

Эта идеология распространяется:
1. Священник проповедует в церкви
2. Батраки слышат это каждый день
3. Дети слышат это с детства
4. Становится частью культуры

Результат:
- Батраки соглашаются со своим положением
- Восстания маловероятны (они верят, что это "воля божья")
- Помещик консолидирует власть через культуру (HEGEMONY)
- Система воспроизводится сама по себе
```

### 4.3. Традиции и Праздники

Традиции — это механика, закрепляющая культурные нормы:

```
Традиция: Праздник Урожая

История возникновения:
1. Первый урожай был удачным → люди устроили пир
2. На следующий год они повторили пир в точно такой же день
3. Это укрепило связь между пиром и урожаем
4. Со временем это стало ТРАДИЦИЕЙ

Эффект традиции:
- Раз в год все (даже те, кто голодал в другие дни) едят досыта
- Социальное единство усиливается (все вместе)
- Молодые люди передают эту традицию детям
- Через 100 лет люди забывают, почему это нужно, но продолжают делать

Игровой эффект:
- Happiness всех NPC повышается на +10 в день праздника
- RelationshipScore между жителями +5
- Усиливается социальная сплочённость
- Низкая вероятность восстания в день праздника
```

---

## 5. Эмергентные Поведения

### 5.1. Классический Пример: Голод и Людоедство

Один из самых интересных эмергентных сценариев:

```
Сценарий: Суровая зима

1. Снег блокирует доступ к ресурсам
2. Запасы заканчиваются (неправильное планирование летом)
3. Люди начинают голодать
4. Стадии голода:
   - Day 1-10: Слабость, низкая производительность
   - Day 11-30: Болезни, смерть пожилых и детей
   - Day 31+: Отчаяние, люди делают невозможное

5. Возможные исходы:
   A) Найти резервные ресурсы (охотиться, копать)
   B) Торговать с соседями (если есть что отдать)
   C) Воровство (если есть богатые соседи)
   D) Каннибализм (в крайнем отчаянии)
   E) Эмиграция (уход в другое место)
   F) Смерть (деревня опустевает)

Какой исход выберет каждый NPC, зависит от:
- Его Personality (отчаяние vs решительность)
- Beliefs (моральные ограничения)
- Relationships (готовность помочь семье vs чужакам)
```

### 5.2. Гегемония и Идеологический Контроль

Грамши учил, что власть часто основана не на силе, а на согласии (гегемония):

```
Сценарий: Помещик укрепляет гегемонию

Помещик проводит подпрограмму:
1. Нанимает священника → проповедует идеологию
2. Открывает школу (только для своих детей, но ходят туда и дети крестьян)
3. Спонсирует праздники и традиции
4. Получает репутацию "справедливого помещика"

Результат:
- Батраки любят своего помещика (не боятся его, любят!)
- Они защищают его от агитаторов ("Он же хороший!")
- Восстание становится невозможным
- Система воспроизводится стабильно

Но если:
- Приходит крах (неурожай, болезнь)
- Люди смотрят на реальность без идеологических очков
- Гегемония рушится быстро
```

### 5.3. Органические Интеллектуалы

Некоторые NPC становятся лидерами своего класса:

```
Иван — батрак, но умнее других:
- Charisma: 16 (высокая)
- Интеллект: 17 (высокий)
- Он много наблюдал, понял структуру эксплуатации
- Он убедительно говорит
- Другие батраки его слушают

Иван становится "органическим интеллектуалом" класса LABORER:
- Он ясно объясняет, почему батраки угнетены
- Он организует забастовку
- Он готовит революцию
- Его слова повышают классовое сознание других

Помещик видит угрозу:
- Может пригласить Ивана в помещики (кооптация)
- Может подавить его (насилие)
- Может рассказывать о нём плохие истории (идеология)

Исход зависит от ситуации и особенностей персонажей.
```

### 5.4. Циклы Социальной Динамики

Общество часто циклится через периоды мира и конфликта:

```
Цикл 1: Мир (годы 1-50)
- Мало населения, много ресурсов
- Нет классов, нет конфликтов
- Экономика простая (охота, собирательство)

Цикл 2: Развитие (годы 50-100)
- Появляется сельское хозяйство
- Растёт население
- Появляются классы
- Напряжённость растёт, но ещё нет восстания

Цикл 3: Конфликт (годы 100-150)
- Классовое сознание достигает максимума
- Происходит восстание
- Либо революция, либо подавление
- Много смертей

Цикл 4: Перестройка (годы 150-200)
- Новая система приходит на смену старой
- Мир снова восстанавливается
- Но новые классы начинают формироваться в новой системе
- Цикл повторяется

В реальной истории это отражало смену формаций:
Коммуна → Рабовладение → Феодализм → Капитализм
```

---

## 6. Время и Ритмы

### 6.1. Суточный Ритм

Каждый день для NPC разделён на фазы:

```
6:00 - Пробуждение
  - NPC пробуждаются, если готовы
  - Уровень энергии восстанавливается

6:00-9:00 - Утро
  - Завтрак (если есть еда)
  - Семейное время (молитва, разговоры)
  - Потребность "общение" удовлетворяется

9:00-17:00 - Рабочий день
  - Производство (охота, земледелие, ремесло)
  - Эта фаза длинная, в неё помещается много часов работы
  - У работников часто одинаковый график

17:00-21:00 - Вечер
  - Возвращение домой
  - Ужин (совместный)
  - Отдых
  - Общение с семьёй

21:00-6:00 - Ночь
  - Сон (восстановление энергии)
  - Потребность "сон" удовлетворяется
  - Мечты (иногда во сне NPC разбирается в проблемах)
```

### 6.2. Сезонные Циклы

Каждый сезон имеет свой "вкус" и экономику:

```
Весна (дни 1-90)
  - Посев (интенсивная работа в поле)
  - Охота возможна (животные после зимы худые)
  - Ресурсы восстанавливаются
  - Много работы → мало времени на культурные события

Лето (дни 91-180)
  - Рост урожаев (пассивное время)
  - Много охоты (животные упитанные)
  - Фестивали и праздники
  - Люди счастивы (еда в достатке)

Осень (дни 181-270)
  - Сбор урожая (интенсивная работа)
  - Подготовка к зиме (консервация, складирование)
  - Последняя охота перед зимой
  - Стресс (будет ли достаточно еды?)

Зима (дни 271-360)
  - Минимум производства (холодно, снег, трудно работать)
  - Полагаются на запасы
  - Смерть, если запасы закончились
  - Семейное время (нельзя работать)
  - Традиции и праздники

Экономический эффект:
- Безработица в зиму (нечего делать → доход=0)
- Класс LANDOWNER выживает на запасах и ренте
- Класс LABORER страдает (нет работы → нет еды)
- Богатство перераспределяется в сторону богатых (они лучше подготовились)
- Неравенство растёт каждую зиму
```

### 6.3. Долгосрочные Тренды

Над сезонными циклами есть долгосрочные тренды:

```
Население:
  Обычно растёт экспоненциально (2-3% в год)
  Может упасть при катаклизме (засуха, мор)
  Восстанавливается за 5-10 лет

Экономика:
  Растёт по мере открытия новых технологий
  Нестабильна при классовых конфликтах
  Зависит от климата

Неравенство (Gini):
  Обычно растёт с 0 (первобытная коммуна) до 0.7 (развитое классовое общество)
  Может упасть при революции
  После революции обычно вырастает снова (новые классы)

Классовое напряжение:
  Растёт по мере развития сознания
  Пик перед восстанием
  Падает после восстания (либо новая система, либо подавление)
```

---

## 7. Как Игрок Наблюдает Мир

### 7.1. Текстовый Интерфейс (CLI)

Игрок видит мир через серию текстовых отчётов:

```
=== ГОД 47 | День 156 | Население: 34 ===
Эра: Неолит | Поколений: 2

КАРТА:
  ~~##..##~~
  ~###@@###~
  .##@@@##..
  ...@@@....

( Легенда:
  ~ = вода, # = лес, . = трава, @ = деревня
)

Последние события:
  • Иван открыл технологию: Земледелие
  • Мария родила сына Петра
  • Конфликт между LANDOWNER и LABORER обострился
  • Пётр стал органическим интеллектуалом
  • Произошла засуха (голод грозит)

Статистика:
  Эра: Неолит
  Технологий открыто: 3 (охота, рыбалка, собирательство)
  Населённость: 34
  Классы: {'PEASANT': 34}
  Неравенство (Gini): 0.12
  Напряжённость: 0.05
```

### 7.2. Графический Интерфейс (GUI)

В GUI режиме игрок видит визуальное представление мира:

```
Карта (с камерой):
  [Сетка с террейнами]
  [Деревушки, отмеченные значками]
  [NPC, отмеченные маленькими квадратиками]
  [Стрелки между локациями (торговля)]

Выбор NPC (нажал на квадратик):
  Иван, возраст 28, класс LABORER
  Здоровье: 85/100
  Сытость: 60/100
  Энергия: 45/100
  Текущая деятельность: работает в поле
  Отношение к помещику: -35 (недоволен)

  Верования: "Помещик эксплуатирует нас"
  Класс сознания: EMERGING

  Память (последние события):
    - День назад: помещик уменьшил зарплату
    - 3 дня назад: сломал инструмент, помещик не дал новый
    - неделю назад: забастовка в соседней деревне

Таймлайн (внизу экрана):
  [Ползунок для быстрой перемотки времени]
  [Кнопки: Пауза, x1, x2, x5, x10 скорость]
  [Дата и время]
```

### 7.3. Прямое Вмешательство Игрока

Хотя игрок не управляет NPC напрямую, он может влиять на мир:

```
Возможные действия игрока:

1. Выбрать NPC → показать его мысли, память, планы
2. Нажать на локацию → увидеть статистику (урожайность, безопасность)
3. Выбрать событие → увидеть детали (кто был причастен, почему произошло)

Косвенное влияние:
1. Изменить климат (засуху / ливни)
2. Добавить ресурсы в локацию (как находку)
3. Убить/рождение NPC (редко, только для тестирования)
4. Изменить конфигурацию (скорость времени, вероятности событий)

Философия:
  Игрок — это не диктатор, а НАБЛЮДАТЕЛЬ
  Его роль — смотреть, учиться, иногда вмешиваться
  Мир движется по своим законам
```

---

## 8. Взаимодействия Между Системами

### 8.1. Экономика → Культура

Самое важное взаимодействие: экономический базис определяет надстройку.

```
Пример 1: Охотничье общество → Охотничьи верования

Базис: Охота — основной способ выживания
Верования: "Духи животных дают разрешение на охоту"
Традиции: "Нужно благодарить зверя перед охотой"
Род верховного вождя: происходит от волка (тотемизм)

Пример 2: Земледельческое общество → Земледельческие верования

Базис: Земля → основной ресурс, от урожая зависит выживание
Верования: "Плодородие даёно богиней, нужно молиться"
Традиции: "Праздник плодородия каждую весну"
Социальная роль: Священник, чью молитву люди слушают

Пример 3: Классовое общество → Идеология равно неравенства

Базис: Появилась частная собственность, классы
Верования: "Бог хочет, чтобы были сильные и слабые"
Идеология: "Помещик благородного происхождения, батрак — нет"
Норма: "Батрак должен уважать помещика"

Если базис изменяется → культура изменяется вслед за ним
Если революция → экономика меняется → культура переписывается
```

### 8.2. Культура → Поведение NPC

Культурные нормы влияют на то, как NPC принимают решения:

```
NPC культура из крестьянской деревни:
  Beliefs: "Боги контролируют урожай, молитва помогает"
  Нормы: "Нужно проводить ритуал перед посевом"
  Традиции: "Каждый год в один день"

Когда NPC видит засуху:
  Не думает: "Может быть, нужны лучшие инструменты?"
  Вместо этого думает: "Наверное, кто-то нарушил ритуал"
  Action: проводит дополнительный ритуал (молитва, жертва)

Если ритуал помогает (засуха заканчивается):
  Belief укрепляется
  Нормы усиливаются
  Традиции становятся более строгими

Культура замыкает людей в определённом образе мышления.
```

### 8.3. Демография → Экономика

Население влияет на экономику (и наоборот):

```
Много молодых людей:
  + Высокая производительность (молодые сильные)
  + Много трудовых рук
  + Но нужно много еды (рот кормить)
  + Экономика растёт, но нужны инвестиции

Мало пожилых:
  - Теряется опыт и мудрость
  - Меньше переходит технологий молодому поколению
  - Знаний теряется больше, чем передаётся
  + Меньше иждивенцев

Катаклизм:
  Даже небольшая засуха может повалить молодое общество
  Развитое общество имеет запасы, выживает
  После катаклизма демография меняется (много смертей)
  Экономика падает (нет рук для работы)
```

### 8.4. Личность NPC → Взаимодействия

Каждый NPC имеет уникальную личность, которая определяет его взаимодействия:

```
Иван (храбрый, упорный, агрессивный):
  - Быстро становится органическим интеллектуалом
  - Активен в конфликтах
  - Может быть лидером восстания
  - Но может быть слишком прямолинеен (выдаст заговор)

Мария (добрая, осторожная, социальная):
  - Хороший миротворец
  - Может примирить врагов
  - Информирует об сплетнях (хорошо слышит новости)
  - Может не быть достаточно твёрдой для революции

Петр (коварный, умный, амбициозный):
  - Может манипулировать помещиком (кооптация в класс)
  - Может предать революцию
  - Может стать шпионом
  - Может подняться в обществе через интриги

Их разные личности создают разные истории, даже в одной деревне.
```

---

## 9. Текущее Состояние vs Планируемое Состояние

### 9.1. Текущие Механики (Working)

✓ Производство основных типов (охота, земледелие, ремесло)
✓ Собственность земли и инструментов (простая система)
✓ Классовая система (автоматическое определение класса)
✓ Семьи и наследование
✓ Эмергентное возникновение верований (простая версия)
✓ Суточные и сезонные циклы
✓ Основной BDI цикл NPC
✓ Торговля между NPC (простая версия)
✓ Полиморфизм в производстве (разные методы для разных результатов)

### 9.2. Текущие Ограничения

✗ Классовое сознание не полностью реализовано (нет фаз развития)
✗ Забастовки и восстания не реализованы
✗ Органические интеллектуалы не идентифицируются
✗ Гегемония не моделируется
✗ Традиции жёсткие (не эмергентны)
✗ Верования не влияют на решения достаточно
✗ Отношения между классами симплифицированы
✗ Эмиграция и миграция не реализованы
✗ Система цен неполная (фиксированные цены вместо рыночных)
✗ Кредиты и долги не реализованы

### 9.3. Планируемые Улучшения (Task 002)

Согласно EPIC-SUPERSTRUCTURE (культура):

```
SUP-001: Полная система классового сознания
  - Фазы развития: NAIVE → EMERGING → ACTIVE → REVOLUTIONARY
  - Отслеживание для каждого класса отдельно
  - Интеграция с memories и reflection

SUP-002: Система гегемонии
  - Идеология может "подавлять" развитие сознания
  - Органические интеллектуалы могут распространять идеи
  - Counter-hegemony (альтернативная идеология)

SUP-003: Забастовки и восстания
  - Условия для их возникновения
  - Выбор между различными тактиками
  - Последствия для экономики

SUP-004: Эмергентные традиции
  - Традиции не задаются, а возникают из повторения
  - Со временем забываются, если не повторяются
  - Влияют на решения только потому, что повторяются
```

Согласно EPIC-ECONOMY (экономика):

```
ECON-001: Трудовая теория стоимости
  - Цены основаны на socially necessary labour time (SNLT)
  - Товары обмениваются по их стоимости (в среднем)

ECON-002: Рынки и цены
  - Спрос и предложение влияют на цены
  - Эксплуатация создаёт разницу между стоимостью и ценой

ECON-003: Кредиты и проценты
  - NPC могут занимать деньги
  - Проценты создают долги
  - Кредиты могут привести к рабству (долговому рабству)

ECON-004: Инвестиции и воспроизводство
  - Собственник может инвестировать в расширение производства
  - Это приводит к дальнейшему накоплению капитала
```

---

## 10. Примеры Игровых Сценариев

### 10.1. Сценарий 1: "Восхождение Иванова Рода"

```
Год 1-30: Иван и Маша — молодая пара в примитивной общине
  - Все живут охотой и собирательством
  - Неравенства почти нет
  - Иван хороший охотник, Маша хорошо собирает

Год 30-60: Иван открывает земледелие
  - Его урожаи лучше охоты
  - Другие слушают его совета (он становится уважаемым)
  - Постепенно земледелие становится основой экономики

Год 60-90: Иван получает лучшую землю
  - Система собственности возникает
  - Иван владеет полем
  - Его сыновья наследуют поле

Год 90-150: Род Иванова становится помещиками
  - У них много земли
  - Батраки работают на них
  - Они богаты и влиятельны

Год 150-180: Революция!
  - Батраки видят несправедливость
  - Органический интеллектуал (батрак Петр) организует восстание
  - Род Иванова теряет власть

Или: род Иванова использует идеологию (нанимает священника)
  - Батраки верят, что это воля божья
  - Восстание предотвращено
  - Неравенство продолжает расти

Или: экономический коллапс
  - Засуха + война = внешний враг
  - Батраки нужны для защиты
  - Род Иванова теряет власть не через восстание, а через внешнюю угрозу
```

### 10.2. Сценарий 2: "Деревня Рыбаков"

```
Год 1-50: Рыбацкая община в дельте реки
  - Рыба в изобилии
  - Экономика проста: рыба = деньги
  - Все едят рыбу каждый день

Год 50-100: Торговля с соседней деревней
  - Рыба торгуется на зерно
  - Цены стабильны (рыба = X единиц зерна)
  - Возникает специализация (рыбаки торгуют зерном, земледельцы — рыбой)

Год 100-150: Появляется купец
  - Купец видит, что рыба дорога в других деревнях
  - Он скупает рыбу дешево, продаёт дорого
  - Норма прибыли: 200%
  - Рыбаки видят, что купец богатеет, они — нет
  - Нарастает возмущение ("Почему купец богатеет на нашей рыбе?")

Год 150-200: Конфликт между рыбаками и купцом
  - Рыбаки требуют лучшую цену
  - Купец отказывает (есть другие деревни)
  - Забастовка рыбаков
  - Купец нанимает батраков из другой деревни, чтобы ловить рыбу
  - Гражданская война в деревне (рыбаки vs батраки)

Исход:
  A) Рыбаки побеждают, изгоняют купца, продают рыбу сами
  B) Купец побеждает, рыбаки становятся наёмными рабочими
  C) Компромисс: рыбаки продают через купца, но с лучшей ценой
  D) Деревня раскалывается на две (часть уходит, основывает новую)
```

### 10.3. Сценарий 3: "Ковровка Верований"

```
Год 1-30: Примитивные верования (духи природы)
  - "В лесу живёт дух охоты, он даёт удачу"
  - Ритуалы простые (звуки, движения, подношения)

Год 30-70: Объединение верований
  - Несколько деревень встречаются
  - Они рассказывают друг другу о своих богах
  - Возникает единая мифология ("Верховный Бог + 12 подчинённых")

Год 70-120: Религиозные конфликты
  - Деревня А верит в одного верховного бога
  - Деревня Б верит в другого
  - Они воюют ("Мой бог сильнее!")
  - Внеклассовый конфликт (не это, что классовый)

Год 120-180: Хитрый жрец
  - Жрец говорит: "На самом деле, это один бог с разными именами"
  - Это объединяет верования
  - Теперь война заканчивается
  - Появляется единая иерархия (жрец — главный)
  - Жрец использует религию в качестве инструмента контроля

Год 180-250: Ересь и Раскол
  - Молодой пророк говорит: "Жрец врёт, бог говорит мне напрямую"
  - Молодые его слушают
  - Конфликт поколений (старые верят жрецу, молодые — пророку)
  - Возможна религиозная революция

Итог: культура следует за экономикой, но имеет свою жизнь
```

---

## 11. Заключение

Игровые механики "Живого Мира" — это симбиоз нескольких научных подходов:

1. **Марксистская экономия** — экономический базис определяет надстройку
2. **BDI-архитектура** — NPC принимают решения рационально (в их понимании)
3. **Generative Agents** — память и отношения создают сложное поведение
4. **Agent-Based Modeling** — глобальные явления возникают из локальных взаимодействий

**Результат:** мир, который живёт сам по себе, где каждый NPC имеет свою логику, свою историю, свои цели. Игрок — это не диктатор, а АНТРОПОЛОГ, наблюдающий развитие человеческой цивилизации в реальном времени.

Каждая сессия уникальна. Одна деревня может развиться в революционное государство, другая — в крепостническую тиранию. Третья может разрушиться от голода и внешних врагов. Четвёртая может построить идеальное классовое сотрудничество (или иллюзию такого).

**Это не игра, в которой вы выигрываете или проигрываете. Это симуляция, в которой вы учитесь понимать общество.**

---

## См. также

- [`./docs/3_SIMULATION_CORE.md`](./3_SIMULATION_CORE.md) — Основной цикл симуляции
- [`./docs/4_ECONOMIC_SYSTEM.md`](./4_ECONOMIC_SYSTEM.md) — Экономическая система
- [`./docs/5_SOCIETY_SYSTEM.md`](./5_SOCIETY_SYSTEM.md) — Социальная система
- [`./docs/6_CULTURE_SYSTEM.md`](./6_CULTURE_SYSTEM.md) — Культурная система
- [`./docs/7_NPC_SYSTEM.md`](./7_NPC_SYSTEM.md) — Система NPC и AI
- [`./docs/8_WORLD_ENVIRONMENT.md`](./8_WORLD_ENVIRONMENT.md) — Мировая система
- [README.md](../README.md) — Главный файл документации
- [11_GLOSSARY.md](./11_GLOSSARY.md) — Глоссарий терминов
