---
title: Экономическая Система - Производство, Собственность и Классы
description: Описание экономической системы симуляции с основами производства, системой собственности, технологиями, ресурсами, концепцией прибавочной стоимости и механизмом образования классов
keywords:
  - экономика
  - производство
  - собственность
  - технология
  - ресурсы
  - прибавочная стоимость
  - эксплуатация
  - классообразование
  - базис
  - марксизм
lang: ru
---

# Экономическая Система - Производство, Собственность и Классы

## Обзор

Экономическая система (модуль `economy`) — это фундамент симуляции, реализующий марксистскую теорию исторического материализма. Согласно Марксу, материальные условия производства (базис) определяют социальные и культурные формы (надстройку), включая классовую структуру и идеологию.

**Ключевые компоненты:**
- **Production** — система производства (преобразование труда и ресурсов в продукт)
- **OwnershipSystem** — система управления собственностью (кто владеет средствами производства)
- **TechnologySystem** — система технологий (развитие производительных сил)
- **ResourceSystem** — система ресурсов (материальная основа экономики)
- **ClassSystem** — система классов (вытекает из отношения к собственности)

---

## 1. Система Производства

### 1.1. Философская основа

В марксистской теории труд — это источник всей стоимости:

> "Товар есть прежде всего внешний предмет, вещь, которая посредством своих свойств удовлетворяет какие-нибудь человеческие потребности. Природа этих потребностей — удовлетворяются ли они едой или одеждой, охотой или ужением — не имеет значения. Также не имеет значения, как эта вещь возникает: является ли она продуктом труда или природного богатства." — К. Маркс, "Капитал", т. 1

Производство в симуляции реализует следующие марксистские концепции:

1. **Труд как источник стоимости** — каждый процесс производства требует часов труда (hours_spent)
2. **Орудия труда повышают производительность** — технология и инструменты дают бонусы к выпуску
3. **Прибавочный продукт** — излишек, производимый сверх необходимого для выживания работника
4. **Эксплуатация** — присвоение работодателем прибавочного продукта работника

### 1.2. Структура производства

#### **ProductionMethod (Способ производства)**

Каждый способ производства определяется:

```python
@dataclass
class ProductionMethod:
    """
    Способ производства - рецепт преобразования ресурсов.

    Определяет:
    - Какие ресурсы нужны (inputs)
    - Какие орудия используются (required_tools)
    - Что получается на выходе (outputs)
    - Сколько труда требуется (base_hours)
    """
    id: str                              # Уникальный ID методы
    name: str                            # Название на русском
    labor_type: LaborType               # Тип труда (собирательство, охота, и т.д.)

    # Входные и выходные ресурсы
    inputs: Dict[str, float]            # Требуемые ресурсы для производства
    outputs: Dict[str, float]           # Производимые ресурсы

    # Орудия и технология
    required_tools: List[str]           # Требуемые орудия (для бонуса)
    tool_bonus: float                   # Бонус производительности от орудий
    required_technologies: List[str]    # Требуемые технологии

    # Время и сложность
    base_hours: float                   # Базовое время в часах
    skill_requirement: int              # Требуемый уровень навыка

    # Условия окружающей среды
    requires_water: bool                # Нужна вода (рыбалка)
    requires_fire: bool                 # Нужен огонь (готовка, плавка)
    seasonal: List[str]                 # Сезоны, в которые доступно
```

#### **Типы труда (LaborType)**

Симуляция поддерживает 9 основных типов труда:

```
GATHERING        (собирательство)    → ягоды, грибы, волокна, дрова
HUNTING          (охота)             → мясо, кожа, кости
FISHING          (рыболовство)       → рыба
FARMING          (земледелие)        → зерно, овощи
HERDING          (скотоводство)      → молоко, мясо, кожа
CRAFTING         (ремесло)           → орудия, ткань, керамика, бронза
BUILDING         (строительство)     → здания, укрепления
COOKING          (готовка)           → готовые продукты питания
MINING           (добыча)            → руда, камень
```

### 1.3. Пример: Производство хлеба

```python
# === Шаг 1: Посев зерна (Весна) ===
ProductionMethod(
    id="plant_grain",
    name="посев зерна",
    labor_type=LaborType.FARMING,
    inputs={"grain": 1.0},              # 1 единица зерна как семена
    outputs={"grain": 6.0},             # Получится 6 единиц урожая
    required_tools=["stone_tool", "wooden_tool"],
    tool_bonus=0.5,
    base_hours=8.0,                     # 8 часов работы
    seasonal=["весна"],
    required_technologies=["agriculture_basic"],
)

# === Шаг 2: Сбор урожая (Осень) ===
ProductionMethod(
    id="harvest",
    name="сбор урожая",
    labor_type=LaborType.FARMING,
    outputs={"grain": 10.0},            # 10 единиц зерна
    required_tools=["stone_tool"],
    tool_bonus=0.3,
    base_hours=6.0,                     # 6 часов работы
    seasonal=["осень"],
    required_technologies=["agriculture_basic"],
)
```

**Логика производства:**
1. Крестьянин работает 8 часов весной, сеет 1 единицу зерна
2. В результате роста получается 6 единиц урожая
3. Осенью крестьянин работает 6 часов, собирает урожай — получает 10 единиц зерна
4. **Итого:** 14 часов труда → 10 единиц зерна (продукт труда)

### 1.4. Расчёт эффективности

Эффективность производства определяется по формуле:

```
efficiency = base_output * tool_bonus * climate_modifier * skill_bonus * random_factor
```

**Компоненты:**
- **base_output** — базовый выход из ProductionMethod
- **tool_bonus** — бонус от наличия орудий (0.5–1.0)
- **climate_modifier** — модификатор климата и сезона (0.5–2.0)
- **skill_bonus** — бонус от уровня навыка работника (1.0–1.5)
- **random_factor** — случайность (0.8–1.2)

**Пример расчёта урожайности пшеницы:**
```
Осенний сбор урожая в плодородной равнине с хорошей погодой:
- base_output: 10
- tool_bonus: 1.0 (есть качественные инструменты)
- climate_modifier: 1.3 (осень, хорошая погода)
- skill_bonus: 1.2 (опытный фермер)
- random_factor: 1.1
─────────────────────────────
Результат: 10 × 1.0 × 1.3 × 1.2 × 1.1 = 17.16 единиц зерна
```

### 1.5. Привязка к климату и территории

Производство тесно связано с климатом и типом территории:

**Климатические модификаторы:**
```python
climate_modifiers = {
    "farming": 1.0,      # Базовое земледелие
    "hunting": 1.0,      # Базовая охота
    "gathering": 1.0,    # Базовое собирательство
    "fishing": 1.0,      # Базовая рыбалка
}
```

**Модификаторы по типам территории:**
```
GRASSLAND (Равнина):
  gathering: 1.0 (базовое)
  hunting: 1.2 (хорошо видно добычу)
  farming: 1.3 (отличное земледелие)
  mining: 0.5 (мало ресурсов)

FOREST (Лес):
  gathering: 1.5 (много ягод, грибов)
  hunting: 1.3 (много дичи)
  farming: 0.7 (нужно расчищать)
  mining: 0.3 (мало камней)

WATER (Вода):
  gathering: 0.0 (невозможно)
  hunting: 0.0 (невозможно)
  fishing: 2.0 (отличная рыбалка)
  farming: 0.0 (невозможно)
```

---

## 2. Система Собственности

### 2.1. Марксистская основа

По Марксу, отношение человека к средствам производства определяет его классовую позицию:

> "Капиталист есть экономический носитель капитала, капитал же олицетворяется в капиталисте. Капиталист существует лишь как персонификация капитала. Его личное богатство зависит от его богатства как капиталиста." — К. Маркс, "Капитал", т. 1

**Ключевая идея:** Те, кто владеет средствами производства (землёй, орудиями, скотом), могут заставлять работать других и присваивать прибавочный продукт. Те, кто не владеет — вынуждены продавать свой труд.

### 2.2. Типы собственности

```python
class PropertyType(Enum):
    """Типы собственности"""
    COMMUNAL = "общинная"          # Принадлежит всей общине (доколониальный период)
    PERSONAL = "личная"            # Личные вещи (одежда, посуда — не средства производства)
    PRIVATE = "частная"            # Средства производства в частных руках
    FAMILY = "семейная"            # Принадлежит семье (переходит по наследству)
```

### 2.3. Категории имущества

```python
class PropertyCategory(Enum):
    """Категории имущества"""
    LAND = "земля"                 # Земельные участки (самое важное)
    TOOLS = "орудия"               # Орудия труда
    LIVESTOCK = "скот"             # Животные
    BUILDING = "постройка"         # Здания и укрепления
    RESOURCES = "ресурсы"          # Запасы ресурсов
    KNOWLEDGE = "знания"           # Права на технологии
```

**Средства производства (means of production):**
Средства производства — это всё имущество, которое используется для создания других благ:
- **Земля** — основное средство производства в аграрных обществах
- **Орудия** — инструменты для повышения производительности
- **Скот** — в пастушеском хозяйстве
- **Здания** — мастерские, амбары, мельницы

**Личная собственность:**
Личная собственность — это предметы потребления, которые не используются для производства:
- Одежда
- Посуда
- Украшения
- Еда (из личных запасов)

### 2.4. Переходы собственности

```python
class OwnershipTransition(Enum):
    """Типы переходов собственности"""
    CLAIMING = "захват"              # Первоначальный захват земли
    INHERITANCE = "наследство"       # Передача по наследству (стабилизирует неравенство)
    GIFT = "дар"                     # Подарок между родственниками
    TRADE = "обмен"                  # Торговля/продажа
    SEIZURE = "отъём"                # Насильственный захват (войны, восстания)
    COMMUNALIZATION = "обобществление"  # Возврат в общинную (революция)
```

### 2.5. Пример: Возникновение частной собственности

**Этап 1: Общинное хозяйство (Год 0)**
```
Община владеет:
- Землей (100 участков) — тип собственности: COMMUNAL
- Орудиями (30 каменных топоров) — тип собственности: COMMUNAL
- Скотом (50 коз) — тип собственности: COMMUNAL

Все имеют доступ к средствам производства.
Классов нет (нет различия в отношении к средствам производства).
```

**Этап 2: Захват земли (Год 50)**
```
Сильный воин и охотник Ох-Ох захватывает плодородный участок земли:
- Создаёт PropertyRight:
  - property_id: "land_10_15"
  - category: LAND
  - owner_type: PRIVATE (частная!)
  - owner_id: "och_och"
  - location: (10, 15)
  - acquisition_year: 50
  - acquisition_method: "захват"
  - can_transfer: true  ← КЛЮЧЕВОЕ ОТЛИЧИЕ: теперь можно передать

Происходит историческое событие:
  "PRIVATE_PROPERTY_EMERGED": Частная собственность на землю возникла!
```

**Этап 3: Формирование классов (Год 100)**
```
После 50 лет захватов:

КЛАСС БУРЖУАЗИИ (владельцы земли):
- Ох-Ох владеет 15 участками плодородной земли
- Охотник Ху-Ху владеет 8 участками и скотом
- Кузнец Уг-Уг владеет участком и мастерской

КЛАСС ПРОЛЕТАРИАТА (безземельные):
- Дикий охотник Мык (безземельный, вынужден работать на других)
- Юная собирательница Та-та (безземельная, работает в полях Ох-оха)
- Старый рыбак Ллp-ллp (потерял землю после поражения)

ОТНОШЕНИЕ К СРЕДСТВАМ ПРОИЗВОДСТВА ОПРЕДЕЛЯЕТ КЛАССОВУЮ ПОЗИЦИЮ.
```

### 2.6. Расчёт неравенства (Коэффициент Джини)

Система вычисляет коэффициент Джини для измерения неравенства:

```python
def calculate_inequality(self) -> float:
    """
    Вычисляет коэффициент неравенства (0-1).

    0.0 = полное равенство (все имущество распределено поровну)
    0.5 = среднее неравенство (типичное аграрное общество)
    0.9+ = крайнее неравенство (пирамида собственности)
    """
    # Собираем богатство всех владельцев
    wealths = [self.calculate_wealth(owner_id) for owner_id in self.owner_index]

    # Вычисляем Джини коэффициент
    n = len(wealths)
    if n <= 1:
        return 0.0

    wealths.sort()
    cumulative = 0
    for i, w in enumerate(wealths):
        cumulative += (n - i) * w

    return 1 - (2 * cumulative) / (n * sum(wealths))
```

**Интерпретация:**
```
0.0–0.2 = Полное равенство или её близость
          (коммунистическое или раннепервобытное общество)

0.2–0.4 = Низкое неравенство
          (недифференцированное сельское общество)

0.4–0.6 = Среднее неравенство
          (типичное феодальное общество)

0.6–0.8 = Высокое неравенство
          (ранний капитализм, империи)

0.8–1.0 = Крайнее неравенство
          (тирания одного человека, колониализм)
```

---

## 3. Технологии и Развитие

### 3.1. Философия технологического развития

Технологии в марксистской теории — это развитие производительных сил (means of production). Маркс утверждал, что развитие технологий выдвигает новые социальные классы и изменяет производственные отношения.

### 3.2. Технологические эпохи

Система разделяет историю на эпохи:

```python
class TechEra(Enum):
    """Технологические эпохи"""
    PRIMITIVE = ("первобытная", 0)      # Никаких орудий, только руки
    STONE_AGE = ("каменный век", 1)     # Каменные орудия
    COPPER_AGE = ("медный век", 2)      # Обработка меди
    BRONZE_AGE = ("бронзовый век", 3)   # Бронзовые орудия и оружие
    IRON_AGE = ("железный век", 4)      # Железные орудия
    EARLY_MEDIEVAL = ("раннее средневековье", 5)  # Лошади, гончарное дело
```

### 3.3. Технологии и их открытие

Каждая технология может открываться только при соблюдении условий:

```python
@dataclass
class Technology:
    """Технология - единица знания"""
    id: str                                # ID технологии
    name: str                              # Название
    category: TechCategory                 # Категория (орудия, земледелие и т.д.)
    era: TechEra                          # Технологическая эпоха

    # Требования для открытия
    prerequisites: List[str]              # Требуемые предварительные технологии
    required_resources: Dict[str, float]  # Ресурсы для открытия
    min_intelligence: int                 # Минимальный интеллект персонажа

    # Вероятность открытия
    discovery_difficulty: float           # Множитель сложности
    base_discovery_chance: float = 0.001  # Базовый шанс открытия в день

    # Эффекты открытия
    production_bonus: Dict[str, float]    # Бонусы к производству
    unlocks: List[str]                    # Какие технологии открывает
    enables_resources: List[str]          # Новые ресурсы доступны
```

### 3.4. Пример: Открытие земледелия

**Требования:**
```
prerequisites: ["fire_making"]           # Нужен огонь
required_resources: {"grain": 5.0}       # Нужно 5 единиц дикого зерна
min_intelligence: 6                       # Достаточный интеллект
discovery_difficulty: 2.0                # Очень сложно
```

**Процесс открытия:**
```
Год 1: Собирательница Та-та находит 5 единиц дикого зерна
Год 1: На каждый день есть 0.001 * (intelligence/5) шанс открытия
Год 5: Та-та экспериментирует, сеет зерно рядом с домом
Год 8: Первый урожай! Земледелие открыто!

Эффекты:
- production_bonus: {"grain": 0.5}       # +50% к производству зерна
- enables_resources: ["grain_domestic"]  # Становятся доступны новые ресурсы
- unlocks: ["plow", "crop_rotation"]    # Открывают следующие технологии
```

---

## 4. Система Ресурсов

### 4.1. Классификация ресурсов

```python
class ResourceCategory(Enum):
    """Категории ресурсов"""
    NATURAL = "природный"              # Добывается из природы (вода, древесина)
    FOOD = "еда"                       # Потребляется для выживания
    MATERIAL = "материал"              # Используется для производства
    TOOL = "орудие"                    # Средство производства
    LUXURY = "роскошь"                 # Престижный товар (излишни для выживания)
    KNOWLEDGE = "знание"               # Нематериальный ресурс
```

### 4.2. Типы ресурсов

**Природные ресурсы (добываются из окружающей среды):**
```
WATER (вода)           — возобновляемый
WOOD (древесина)       — возобновляемый
STONE (камень)         — возобновляемый
CLAY (глина)           — возобновляемый
ORE (руда)             — невозобновляемый
FLINT (кремень)        — невозобновляемый
```

**Продукты питания (необходимы для выживания):**
```
BERRIES (ягоды)        — возобновляемые
MUSHROOMS (грибы)      — возобновляемые
MEAT (мясо)            — невозобновляемое (получается охотой)
FISH (рыба)            — возобновляемая
GRAIN (зерно)          — производимое (земледелие)
VEGETABLES (овощи)     — производимые
HONEY (мёд)            — возобновляемый
MILK (молоко)          — производимое (скотоводство)
```

**Материалы (для производства):**
```
LEATHER (кожа)         — получается охотой
BONE (кость)           — получается охотой
FIBER (волокно)        — собирается в природе
IRON (железо)          — обработка руды
BRONZE (бронза)        — переплавка
CLOTH (ткань)          — ткачество
POTTERY (керамика)     — гончарное дело
```

**Орудия труда (средства производства):**
```
STONE_TOOL             — каменное орудие
BONE_TOOL              — костяное орудие
WOODEN_TOOL            — деревянное орудие
BRONZE_TOOL            — бронзовое орудие
IRON_TOOL              — железное орудие
SPEAR (копьё)          — охотничье орудие
BOW (лук)              — охотничье орудие
AXE (топор)            — универсальное орудие
```

**Роскошь (престижные товары):**
```
JEWELRY (украшения)    — символ статуса
FINE_CLOTHES           — дорогая одежда
ART (предметы искусства) — предметы культа
```

### 4.3. Циркуляция ресурсов

Ресурсы циркулируют через экономику согласно производственному циклу:

```
Природные ресурсы (WOOD, STONE, ORE)
         ↓ (сбор)
Материалы (MATERIAL)
         ↓ (обработка)
Орудия труда (TOOL) и Продукты (FOOD, CLOTH, POTTERY)
         ↓ (использование/потребление)
Прибавочный продукт (SURPLUS)
         ↓ (присвоение буржуазией)
Накопление капитала (WEALTH)
```

---

## 5. Прибавочная Стоимость и Эксплуатация

### 5.1. Марксистская теория прибавочной стоимости

Маркс разделял:
- **Необходимый продукт** (necessary product) — то, что нужно работнику для выживания
- **Прибавочный продукт** (surplus product) — то, что присваивает капиталист

```
Прибавочная стоимость = Продукт труда - Необходимый продукт
                      = Время работника - Время, нужное для его пропитания
```

### 5.2. Пример: День фермера

**Сценарий:** Фермер работает на земле капиталиста.

```
Рассчёт за день:
─────────────────────────────────────

Фермер начинает работу с восходом (6 утра)
Работает до заката (18 часов)
Производит 30 единиц зерна (при эффективности 1.0)

Капиталист платит фермеру ОДНОЙ едой в день
(1 единица зерна = 1 день пропитания)

Остаток: 30 - 1 = 29 единиц ПРИБАВОЧНОГО ПРОДУКТА

Эта прибавочная стоимость присваивает капиталист:
- 10 единиц на продажу на рынке
- 5 единиц на зарплату другим рабочим
- 14 единиц на собственное потребление и накопление

РЕЗУЛЬТАТ: Фермер работал 18 часов, получил пропитание
           Капиталист получил 29 единиц прибавочного продукта
           Эксплуатация! (80% от производимой стоимости)
```

### 5.3. Расчёт эксплуатации в симуляции

```python
# Производство фермера
production_per_hour = 2.0  # 2 единицы за час
hours_worked = 10.0        # 10 часов работы
total_produced = production_per_hour * hours_worked  # 20 единиц

# Необходимый продукт (зарплата)
necessary_product = 3.0    # 3 единицы на выживание

# Прибавочный продукт
surplus_product = total_produced - necessary_product  # 17 единиц

# Уровень эксплуатации (m'/v в марксистской формуле)
exploitation_rate = surplus_product / necessary_product  # 5.67 (567%)
```

**Интерпретация:** Капиталист присваивает 567% от того, что тратит на зарплату!

### 5.4. Механизм эксплуатации в игре

В симуляции эксплуатация работает через:

1. **Контроль над средствами производства** — капиталист владеет землёй и орудиями
2. **Принуждение к труду** — работник вынужден работать, иначе голодает
3. **Присвоение прибавочного продукта** — капиталист платит работнику минимум
4. **Накопление капитала** — присвоенное богатство ещё больше усиливает позицию

---

## 6. Образование Классов

### 6.1. Классовая система в симуляции

Классы образуются автоматически на основе отношения к средствам производства:

```
КЛАСС = функция(собственность_на_средства_производства)
```

#### **Буржуазия (Bourgeoisie)**

Определение: Владельцы средств производства.

```
Условия принадлежности:
- Владеет землёй (PropertyCategory.LAND) И/ИЛИ
- Владеет орудиями (PropertyCategory.TOOLS) И/ИЛИ
- Владеет скотом (PropertyCategory.LIVESTOCK) И/ИЛИ
- Владеет зданиями (PropertyCategory.BUILDING)

Характеристики:
- Может нанимать работников
- Присваивает прибавочный продукт работников
- Может быть крупным (несколько участков земли)
       или мелким (мастер-ремесленник)
- Стремится к накоплению капитала
- Идеология: "честный труд", "справедливая зарплата"
```

#### **Пролетариат (Proletariat)**

Определение: Те, кто не владеет средствами производства.

```
Условия принадлежности:
- НЕ владеет землёй И
- НЕ владеет значительными орудиями И
- НЕ владеет скотом

Характеристики:
- Вынужден продавать свой труд
- Получает зарплату (необходимый продукт)
- Живёт от зарплаты до зарплаты
- Может восстать против буржуазии
- Идеология: "справедливое распределение", "рабочая солидарность"
```

#### **Крестьянство (Peasantry)**

Определение: Собственники небольших земельных участков, работающие сами.

```
Условия принадлежности:
- Владеет небольшим участком земли (1–3 участка) И
- Работает сам (не нанимает много рабочих)

Характеристики:
- Мелкие собственники (не буржуазия)
- Уязвимы перед крупными капиталистами
- Могут разоряться и переходить в пролетариат
- Идеология консервативна, привязана к земле
```

### 6.2. Динамика классов

**Восходящая мобильность:**
```
Пролетарий → Мелкий буржуа (скопил капитал, купил участок)
           → Буржуа (разбогател, нанял рабочих)
```

**Нисходящая мобильность:**
```
Мелкий буржуа → Пролетарий (разорился, потерял имущество)
Буржуа → Мелкий буржуа (конкурентность рынка)
```

**Пример рассчёта класса:**

```python
def determine_class(npc_id: str) -> NPCClass:
    """Определяет класс NPC на основе собственности"""

    properties = ownership_system.get_owner_properties(npc_id)

    # Подсчитываем средства производства
    has_land = any(p.category == PropertyCategory.LAND for p in properties)
    has_tools = any(p.category == PropertyCategory.TOOLS for p in properties)
    has_livestock = any(p.category == PropertyCategory.LIVESTOCK for p in properties)
    has_building = any(p.category == PropertyCategory.BUILDING for p in properties)

    means_of_production_count = sum([has_land, has_tools, has_livestock, has_building])

    if means_of_production_count == 0:
        return NPCClass.PROLETARIAT  # Нет средств производства
    elif means_of_production_count <= 2 and has_land and sum(land_units) <= 3:
        return NPCClass.PEASANTRY     # Мелкие крестьяне
    else:
        return NPCClass.BOURGEOISIE   # Буржуазия (даже одна фабрика считается)
```

---

## 7. Текущее состояние: Возможности и Ограничения

### 7.1. Что уже работает ✓

**Production System:**
- ✓ Полная система методов производства (60+ способов)
- ✓ 9 типов труда с характеристиками
- ✓ Привязка к климату и территории
- ✓ Бонусы от орудий и навыков
- ✓ Сезонность и ограничения окружающей среды
- ✓ Расчёт эффективности

**Ownership System:**
- ✓ Система собственности с 4 типами
- ✓ Регистрация и передача имущества
- ✓ История переходов собственности
- ✓ Расчёт коэффициента Джини
- ✓ Идентификация владельцев средств производства
- ✓ Определение безземельных

**Technology System:**
- ✓ 5 технологических эпох
- ✓ 40+ технологий с предусловиями
- ✓ Открытие технологий с шансом
- ✓ Бонусы к производству
- ✓ История открытий

**Resource System:**
- ✓ 35+ типов ресурсов
- ✓ 6 категорий ресурсов
- ✓ Возобновляемые и невозобновляемые
- ✓ Циркуляция через производство

**Class System (Basic):**
- ✓ Определение класса по собственности
- ✓ Категоризация: буржуазия, крестьянство, пролетариат

### 7.2. Текущие ограничения ✗

**Production:**
- ✗ Нет внутриигровых рынков и торговли
- ✗ Цены не вычисляются динамически
- ✗ Специализация труда минимальна
- ✗ Нет кредитования и долгов
- ✗ Нет учёта амортизации орудий

**Ownership:**
- ✗ Нет механизма захвата/потери земли в реальном времени
- ✗ Наследство не реализовано полностью
- ✗ Нет налогов или перераспределения
- ✗ Нет войн за ресурсы

**Economy:**
- ✗ Цена товаров статична
- ✗ Нет спроса и предложения
- ✗ Нет инвестиций в развитие
- ✗ Нет монопольных структур

**Classes:**
- ✗ Классовое сознание статично
- ✗ Нет классовых конфликтов
- ✗ Нет восстаний и революций
- ✗ Нет классовой идентификации NPC

---

## 8. Планируемые улучшения (Task 002)

### 8.1. EPIC-ECONOMY (39 проблем)

Целью EPIC-ECONOMY является превращение системы производства в полноценную экономику с рынками, торговлей и классовыми конфликтами.

**Основные направления улучшений:**

#### **Подсистема 1: Динамическая Ценообразование**
```
ТЕКУЩЕЕ: Цены статичны (заданы вручную)
ПЛАНОВОЕ: Цены вычисляются на основе:
- Спроса и предложения
- Редкости ресурса
- Расстояния до рынка (доставка)
- Инфляции/дефляции денежной массы
```

#### **Подсистема 2: Рынки и Торговля**
```
ТЕКУЩЕЕ: NPC не торгуют с друг другом
ПЛАНОВОЕ:
- Появление торговцев и ярмарок
- Логистика доставки товаров
- Торговые роуты между поселениями
- Профессиональные купцы с хранилищами
```

#### **Подсистема 3: Кредит и Долг**
```
ТЕКУЩЕЕ: Нет системы долгов
ПЛАНОВОЕ:
- NPC могут брать кредиты
- Долги передаются по наследству
- Закабаление (долговое рабство)
- Банкротство и конфискация
```

#### **Подсистема 4: Налоги и Распределение**
```
ТЕКУЩЕЕ: Нет налогов
ПЛАНОВОЕ:
- Налоговая система с разными ставками
- Перераспределение через государство
- Гражданские услуги (защита, дороги)
- Социальное обеспечение/помощь
```

#### **Подсистема 5: Производство в Масштабе**
```
ТЕКУЩЕЕ: Производство индивидуально (каждый NPC производит отдельно)
ПЛАНОВОЕ:
- Коллективное производство (мастерские, фабрики)
- Разделение труда (конвейерное производство)
- Специализация поселений
- Экономия от масштаба
```

### 8.2. EPIC-INTEGRATION и EPIC-SOCIAL

**EPIC-INTEGRATION:**
- INT-020: Улучшить систему владения собственностью (приватизация)
- INT-019: Реализовать торговлю между NPC
- INT-040: Создать подсистему зарплат и труда

**EPIC-SOCIAL:**
- SOC-050: Классовое сознание (NPC осознают свой класс)
- SOC-051: Классовые конфликты и восстания
- SOC-052: Органические интеллектуалы (революционеры и идеологи)

### 8.3. Зависимости между улучшениями

```
Базис (экономика) → Надстройка (культура и классовое сознание)

1. Динамическое ценообразование (ECONOMY-01)
         ↓ (зависит от)
2. Рынки и торговля (ECONOMY-02)
         ↓
3. Кредит и долг (ECONOMY-03)
         ↓
4. Классовые конфликты (SOCIAL-01)
         ↓
5. Революции и государство (SOCIAL-02)
```

---

## 9. Примеры использования

### 9.1. Пример 1: От охотника к капиталисту

```
Год 0: Охотник Мык убивает 5 зверей, продаёт мясо
       Накапливает 50 единиц богатства

Год 5: Мык покупает собственный участок земли
       Берёт в долг на развитие
       Класс: Мелкая буржуазия (крестьянин-арендатор)

Год 10: Земля приносит хороший урожай (климат благоприятствует)
        Мык нанимает 3 рабочих для расширения производства
        Класс: Буржуазия (капиталист)

Год 15: У Мыка 5 участков земли и 10 рабочих
        Присваивает 500 единиц прибавочного продукта в год
        Богатство: 1000 единиц
        Класс: Крупная буржуазия

Год 20: Мык дарит две трети земли сыну (наследство)
        Внук становится буржуа автоматически
        Классовое неравенство стабилизируется через поколения
```

### 9.2. Пример 2: Классовый конфликт

```
Поселение "Речная долина" (Год 50):

БУРЖУАЗИЯ:
- Помещик Ух-тов: владеет 20 участками, 50 рабочих
- Кузнец Уг: владеет мастерской и участком, 5 рабочих
- Торговец Гр-гр: владеет лавкой и запасами

ПРОЛЕТАРИАТ:
- 200 безземельных рабочих в поле
- 30 ремесленников в городе
- 50 безработных на улицах

Социальные показатели:
- Коэффициент Джини: 0.78 (крайнее неравенство)
- Средняя зарплата рабочего: 2 единицы зерна/день
- Плюсовая стоимость помещика: 300 единиц/день
- Средний класс: отсутствует

ПРОГНОЗ: Высокая вероятность восстания/революции
         Возможны крестьянские бунты и смуты
         Классовые антагонизмы обостряются
```

---

## 10. Интеграция с другими системами

### 10.1. Производство → Общество

**Лингвистические связи:**
```
Экономические условия (базис) определяют:
- Структуру семей (большие семьи при ручном труде)
- Демографию (рождаемость зависит от продуктивности)
- Социальное расслоение (иерархия вытекает из собственности)
```

**Механические связи:**
```python
# В society.py
def update_class_structure(ownership_system):
    """Обновляет классовую структуру на основе экономики"""
    for npc in npc_population:
        properties = ownership_system.get_owner_properties(npc.id)
        npc.class = determine_class_from_properties(properties)
        npc.wealth = ownership_system.calculate_wealth(npc.id)
        npc.needs = calculate_needs_by_class(npc.class)
```

### 10.2. Производство → Культура

**Идеологические связи (по Марксу):**
```
Буржуазная идеология: "каждому по способностям", "справедливая зарплата"
Пролетарская идеология: "справедливое распределение", "солидарность класса"
Крестьянская идеология: "земля должна быть свободна", "мир труженикам"
```

**Механические связи:**
```python
# В culture.py
def generate_beliefs_from_class(npc):
    """Генерирует верования на основе класса"""
    if npc.class == NPCClass.BOURGEOISIE:
        beliefs = ["hard_work", "private_property", "meritocracy"]
    elif npc.class == NPCClass.PROLETARIAT:
        beliefs = ["collective_action", "class_solidarity", "fair_wages"]
    else:
        beliefs = ["land_ownership", "tradition", "family_loyalty"]
    return beliefs
```

### 10.3. Производство → NPC AI

**Решения BDI вытекают из экономического положения:**
```
NPC Желания (Desires) формируются на основе:
- Класса (буржуа хочет роста прибыли, пролетарий — еды)
- Имущества (безземельный хочет земли, богач — ещё большего богатства)
- Статуса (каждый хочет улучшить свой класс)

NPC Намерения (Intentions) определяются экономическими возможностями:
- Буржуа может позволить фаворитизм
- Пролетарий может только кооперироваться
- Крестьянин ограничен возможностями земли
```

---

## 11. Ссылки и Перекрёстные Ссылки

**Основные документы:**
- [Архитектура Системы](./2_ARCHITECTURE_OVERVIEW.md) — общая архитектура
- [Ядро Симуляции](./3_SIMULATION_CORE.md) — главный цикл
- [Общественная Система](./5_SOCIETY_SYSTEM.md) — социальные структуры
- [Система Культуры](./6_CULTURE_SYSTEM.md) — идеология и верования
- [Система NPC](./7_NPC_SYSTEM.md) — персонажи и BDI

**Справочные материалы:**
- [Словарь Терминов](./11_GLOSSARY.md) — определения марксистских понятий

**Источники в коде:**
- `src/economy/production.py` — система производства (958 строк)
- `src/economy/property.py` — система собственности (386 строк)
- `src/economy/technology.py` — система технологий (521 строка)
- `src/economy/resources.py` — система ресурсов (319 строк)

---

## 12. Заключение

Экономическая система симуляции реализует марксистскую теорию: материальные условия производства (базис) определяют социальные структуры и идеологию (надстройку). Через владение средствами производства автоматически образуются классы — буржуазия и пролетариат. Прибавочный продукт, производимый пролетариатом, присваивается буржуазией, создавая основу для классовых конфликтов.

Текущая реализация покрывает основные механики производства, собственности и технологии. Будущие улучшения (Task 002) добавят рынки, торговлю, кредит и классовые конфликты, превращая экономику в полнофункциональную социальную динамику.

> "Производство означает не производство вещей, а производство человека производством самого себя." — К. Маркс
