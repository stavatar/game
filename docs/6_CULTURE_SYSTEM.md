---
title: Культурная Система - Верования, Традиции, Нормы и Идеология
description: Описание культурной системы симуляции, включающей систему верований, традиции, социальные нормы, идеологию, классовое сознание, гегемонию и связь надстройки с экономическим базисом
keywords:
  - культура
  - верования
  - идеология
  - традиции
  - социальные нормы
  - надстройка
  - классовое сознание
  - гегемония
  - марксизм
  - суперструктура
lang: ru
---

# Культурная Система - Верования, Традиции, Нормы и Идеология

## Обзор

Культурная система (модуль `culture`) — это **надстройка**, которая возникает на основе экономических отношений (базиса). По Марксу, идеология, культура и правовые системы не являются независимыми силами, а определяются экономическим строем и отражают интересы господствующего класса.

> "Не сознание людей определяет их бытие, а, наоборот, их общественное бытие определяет их сознание." — К. Маркс, "К критике политической экономии"

**Ключевые компоненты:**
- **BeliefSystem** — система верований и идеологии
- **TraditionSystem** — система традиций и социальных практик
- **NormSystem** — система социальных норм и правил
- **ClassConsciousness** (планируется) — самосознание классов
- **Hegemony** (планируется) — доминирование одного класса через культуру

**Философский контекст:**

В марксистской теории культурная надстройка:
1. **Возникает из базиса** — верования и нормы отражают экономические отношения
2. **Служит интересам господствующего класса** — идеология оправдывает эксплуатацию
3. **Передаётся из поколения в поколение** — социализация воспроизводит классовые отношения
4. **Может отставать или опережать** — иногда верования противоречат реальности, создавая конфликты
5. **Влияет на поведение** — люди действуют согласно своим верованиям

---

## 1. Система Верований (BeliefSystem)

### 1.1. Философская основа

В марксистской теории идеология — это система верований, которая:
- **Отражает интересы господствующего класса** — верования, выгодные классу-владельцу, распространяются лучше
- **Оправдывает существующий порядок** — "всё это естественно и вечно"
- **Воспринимается как объективная истина** — люди верят в неё как в закон природы, а не как в социальный конструкт

**В симуляции верования:**
1. **Возникают из условий** — не задаются извне, а появляются когда определённые условия созревают
2. **Распространяются через социализацию** — дети наследуют верования родителей, взрослые принимают новые
3. **Влияют на поведение** — каждое верование имеет модификаторы поведения
4. **Связаны с классовыми интересами** — верования, выгодные классу, принимаются легче

### 1.2. Типы верований (BeliefType)

Система поддерживает следующие типы верований:

| Тип | Описание | Когда появляется | Эффект |
|-----|---------|-----------------|--------|
| **ANIMISM** (Анимизм) | Духи природы в деревьях, реках, камнях | При собирательстве и охоте | Уважение к природе, табу на убийство священного |
| **ANCESTOR_WORSHIP** (Культ предков) | Духи умерших предков руководят живыми | После смертей в общине | Уважение к старшим, традиция, консерватизм |
| **TOTEMISM** (Тотемизм) | Священное животное или растение — покровитель клана | При возникновении родовых групп | Сплочённость клана, табу на убийство тотема |
| **SHAMANISM** (Шаманизм) | Шаман — посредник с духами и целитель | При болезнях и кризисах | Доверие к авторитетам, готовность к жертвам |
| **POLYTHEISM** (Многобожие) | Много богов, каждый отвечает за свою сферу | При сложности общества | Оправдание иерархии (боги тоже иерархичны) |
| **PROPERTY_SACRED** | Собственность священна и неприкосновенна | При возникновении частной собственности | Табу на воровство, защита имущества |
| **HIERARCHY_DIVINE** | Социальный порядок установлен высшими силами | При расслоении общества | Послушание, покорность, узаконение эксплуатации |
| **LABOR_VIRTUE** (Добродетель труда) | Труд облагораживает, праздность — грех | При разделении на трудящихся и праздных | Мотивация к работе, осуждение ленивых |
| **EQUALITY** (Равенство) | Все люди равны и имеют равные права | При кризисе существующего строя | Бунтарские настроения, желание перемен |
| **FATE** (Судьба) | Всё предопределено судьбой, не изменить | При беспомощности перед силами | Покорность, смирение, отказ от действий |

### 1.3. Происхождение верований (BeliefOrigin)

Верования не появляются просто так — они возникают из условий:

```python
class BeliefOrigin(Enum):
    """Происхождение верования"""
    NATURAL = "природное"          # Из наблюдения природы (анимизм)
    ECONOMIC = "экономическое"     # Из экономических отношений (священность собственности)
    SOCIAL = "социальное"          # Из социальных отношений (культ предков)
    CRISIS = "кризисное"           # Из кризиса/катаклизма (новые боги при беде)
```

**Пример: Как возникает верование в "Священность Собственности"**

```python
# Год 15: Появилась частная собственность на землю
economic_conditions = {
    "private_property_exists": True,
    "inequality": 0.45  # 45% неравенства по собственности
}

# Система проверяет условия
if economic_conditions.get("private_property_exists"):
    inequality = economic_conditions.get("inequality", 0)
    if inequality > 0.3:
        # ✓ Условия созрели — верование возникает
        new_belief = Belief(
            id="property_sacred",
            name="священность владения",
            belief_type=BeliefType.PROPERTY_SACRED,
            origin=BeliefOrigin.ECONOMIC,
            origin_conditions={"inequality": inequality},
            description="Собственность дана духами и неприкосновенна",
            benefits_class="LANDOWNER",        # Выгодно землевладельцам
            opposes_class="LANDLESS",         # Вредит безземельным
        )
```

**Логика:** Верование возникает не потому что "боги так решили", а потому что:
1. Появилась частная собственность
2. Неравенство выросло больше 30%
3. **Нужна идеология**, которая оправдывает это неравенство
4. Верование "собственность священна" служит этой цели — защищает интересы собственников

### 1.4. Структура верования (Belief)

```python
@dataclass
class Belief:
    """Верование - элемент идеологии"""

    # Идентификация
    id: str                         # "animism", "property_sacred", и т.д.
    name: str                       # "духи природы", "священность владения"
    belief_type: BeliefType         # Тип верования (из enum выше)
    description: str                # "Всё в природе имеет душу..."

    # Происхождение (КРИТИЧНО для марксизма)
    origin: BeliefOrigin            # Откуда оно взялось
    origin_conditions: Dict         # Условия, при которых возникло
    year_emerged: int               # Год появления в симуляции

    # Распространение
    adherents: Set[str]             # NPC, которые верят (по ID)
    strength: float                 # Сила убеждения (0-1), влияет на поведение

    # Влияние на поведение
    behavior_modifiers: Dict[str, float]  # {"sharing": 0.2, "violence": -0.3, ...}

    # Связь с классами (КРИТИЧНО)
    benefits_class: Optional[str]   # Какому классу выгодно
    opposes_class: Optional[str]    # Какому классу вредит

    # Совместимость (верования могут конфликтовать)
    compatible_with: List[str]      # Верования, которые дополняют
    conflicts_with: List[str]       # Верования, которые противоречат
```

### 1.5. Распространение верований (Belief Propagation)

Верования распространяются не случайно, а следуя логике классовых интересов:

```python
def spread_belief(self, belief_id: str, from_npc: str, to_npc: str,
                  influence: float = 0.1, to_npc_class: Optional[str] = None) -> bool:
    """
    Распространяет верование от одного NPC к другому.

    Вероятность принятия зависит от:
    - Влияния источника
    - Совместимости с существующими верованиями
    - Классовых интересов
    """
    belief = self.beliefs[belief_id]
    npc_beliefs = self.npc_beliefs.get(to_npc, set())

    # 1. Проверяем конфликты (сложнее принять противоречащее)
    for conflict_id in belief.conflicts_with:
        if conflict_id in npc_beliefs:
            influence *= 0.3  # 70% вероятности меньше

    # 2. Проверяем совместимость (легче принять совместимое)
    for compat_id in belief.compatible_with:
        if compat_id in npc_beliefs:
            influence *= 1.5  # 50% вероятности больше

    # 3. КЛАССОВЫЕ ИНТЕРЕСЫ (главный фактор)
    if to_npc_class:
        if belief.benefits_class == to_npc_class:
            # Верование выгодно классу — принять легче
            influence *= 2.0
        elif belief.opposes_class == to_npc_class:
            # Верование вредит классу — сопротивление
            influence *= 0.2

    # 4. Вероятностное принятие
    if random.random() < influence:
        self.add_belief_to_npc(to_npc, belief_id)
        return True
    return False
```

**Пример: Распространение "Священности Собственности"**

```
Ситуация:
- Красный (LANDOWNER): имеет верование "property_sacred" (benefits_class=LANDOWNER)
- Синий (LANDLESS): не имеет никаких верований об этом

Красный пытается убедить Синего:
- Базовое влияние: 0.1
- Синий не имеет конфликтующих верований: * 1.0
- Верование выгодно Синему? НЕТ (он LANDLESS, а benefits_class=LANDOWNER)
  - Вместо * 2.0 будет * 0.2
- Итоговое влияние: 0.1 * 1.0 * 0.2 = 0.02
- Вероятность принятия: 2% (очень низко!)

Почему? Верование не соответствует интересам Синего!
Эксплуатация не в его интересах принять.
```

### 1.6. Доминирующая идеология (Dominant Ideology)

По Марксу: **"Идеи господствующего класса — господствующие идеи"**

```python
def update_dominant_ideology(self, class_power: Dict[str, float]) -> None:
    """
    Обновляет доминирующую идеологию.

    Идеология "побеждает" не потому что она верна,
    а потому что её поддерживает мощный класс.
    """
    # Находим самый мощный класс
    dominant_class = max(class_power.keys(),
                        key=lambda c: class_power[c])

    dominant = []
    for belief in self.beliefs.values():
        # 1. Верования, выгодные доминирующему классу
        if belief.benefits_class == dominant_class:
            dominant.append(belief.id)

        # 2. Верования с большинством сторонников (свыше 50%)
        if belief.get_adherent_count() > len(self.npc_beliefs) * 0.5:
            if belief.id not in dominant:
                dominant.append(belief.id)

    self.dominant_beliefs = dominant  # Это становится "объективной истиной"
```

**Интерпретация:**
- Верования не победят "правдивостью", а победят потому что их поддерживает класс с властью
- Учитель, священник, философ — все они будут пропагандировать верования своего класса
- Даже если верование не соответствует действительности, оно становится "очевидной истиной"

### 1.7. Примеры верований в симуляции

#### Ранний период (Год 0-5): Анимизм и природные верования

```python
# Год 1: Люди взаимодействуют с природой
if economic_conditions.get("gathering_activity", 0) > 0:
    Belief(
        id="animism",
        name="духи природы",
        belief_type=BeliefType.ANIMISM,
        description="Всё в природе имеет душу",
        origin=BeliefOrigin.NATURAL,
        behavior_modifiers={"respect_nature": 0.3},
        # Не связано с классами (все зависят от природы)
    )

# Год 3: Люди встречают смерть
if social_conditions.get("deaths_occurred", 0) > 3:
    Belief(
        id="ancestor_worship",
        name="почитание предков",
        belief_type=BeliefType.ANCESTOR_WORSHIP,
        description="Духи предков защищают живых",
        origin=BeliefOrigin.SOCIAL,
        behavior_modifiers={"respect_elders": 0.4, "tradition": 0.3},
        compatible_with=["animism"],
    )
```

#### Классовый период (Год 10+): Идеология эксплуатации

```python
# Год 15: Появилась частная собственность
if economic_conditions.get("private_property_exists"):
    if economic_conditions.get("inequality", 0) > 0.3:
        Belief(
            id="property_sacred",
            name="священность владения",
            belief_type=BeliefType.PROPERTY_SACRED,
            origin=BeliefOrigin.ECONOMIC,
            description="Собственность дана духами и неприкосновенна",
            behavior_modifiers={"theft": -0.5, "sharing": -0.2},
            benefits_class="LANDOWNER",          # ← КЛЮЧЕВОЙ МОМЕНТ
            opposes_class="LANDLESS",
        )

# Год 17: Появились классы
if social_conditions.get("classes_emerged"):
    Belief(
        id="hierarchy_divine",
        name="божественный порядок",
        belief_type=BeliefType.HIERARCHY_DIVINE,
        origin=BeliefOrigin.ECONOMIC,
        description="Социальный порядок установлен высшими силами",
        behavior_modifiers={"obedience": 0.4, "rebellion": -0.5},
        benefits_class="LANDOWNER",              # ← ЭКСПЛУАТАТОРЫ
        compatible_with=["property_sacred"],
    )
```

---

## 2. Система Традиций (TraditionSystem)

### 2.1. Философская основа

Традиции — это **устойчивые практики**, которые:
- **Возникают из повторяющихся успешных действий** — что сработало один раз, повторяется
- **Передаются из поколения в поколение** — становятся нормой
- **Консервируют существующий порядок** — традиция сопротивляется изменениям
- **Создают социальное сплочение** — общие ритуалы объединяют людей

> "Традиция — усовия мёртвых весов которых давит на мозги живых" — К. Маркс

**В симуляции традиции:**
1. **Возникают эмерджентно** — из повторяющейся практики
2. **Привязаны к триггерам** — сезон, возраст, событие
3. **Дают бонусы сплочённости** — общие ритуалы укрепляют общину
4. **Влияют на поведение** — люди следуют традиции даже если она неэффективна

### 2.2. Типы традиций (TraditionType)

| Тип | Описание | Триггер | Эффект |
|-----|---------|---------|--------|
| **RITUAL** (Ритуал) | Священный обряд (жертвоприношение, обрезание) | Событие (смерть, рождение) | Укрепление веры, сплочение |
| **CUSTOM** (Обычай) | Повседневная практика (приветствие, еда) | Регулярный (каждый день/неделю) | Стабильность, предсказуемость |
| **CELEBRATION** (Праздник) | Праздничный день (сбор урожая, новый год) | Сезон или дата | +20% сплочённости, отдых |
| **TABOO** (Табу) | Запрет на действие (не убивать тотем) | Любое нарушение | Штраф поведению нарушителя |
| **INITIATION** (Инициация) | Обряд посвящения (переход во взрослость) | Возраст (например, 16 лет) | Изменение статуса, смена идентичности |

### 2.3. Структура традиции (Tradition)

```python
@dataclass
class Tradition:
    """Традиция - устойчивая практика общества"""

    # Идентификация
    id: str                         # "tradition_hunting_ritual", "celebration_spring"
    name: str                       # "Охотничий ритуал", "Весенний праздник"
    tradition_type: TraditionType   # Тип традиции
    description: str                # Описание

    # Происхождение
    year_emerged: int               # Когда возникла
    origin_event: str               # События, вызвавшие её появление

    # Триггер (когда выполняется)
    trigger: str                    # "season:spring", "age:16", "event:birth"

    # Эффекты
    social_cohesion_bonus: float    # +0.1 к сплочённости
    behavior_effects: Dict          # {"hunting_skill": 0.1, "courage": 0.2}

    # Участники
    participants: Set[str]          # ID NPC, участвующих
```

### 2.4. Возникновение традиций (Tradition Emergence)

Традиции возникают из повторяющихся успешных практик:

```python
def check_tradition_emergence(self, repeated_event: str,
                             success_count: int, year: int) -> Optional[Tradition]:
    """
    Проверяет возникновение традиции.

    Традиция возникает когда:
    - Одно действие повторилось >= 3 раз
    - Все 3 раза оно было успешным
    """
    if success_count < 3:
        return None  # Недостаточно повторений

    tradition_id = f"tradition_{repeated_event}"
    if tradition_id in self.traditions:
        return None  # Традиция уже существует

    # Создаём традицию из практики
    tradition = Tradition(
        id=tradition_id,
        name=f"обычай {repeated_event}",
        tradition_type=TraditionType.CUSTOM,
        description=f"Традиция, возникшая из практики: {repeated_event}",
        year_emerged=year,
        origin_event=repeated_event,
    )

    self.traditions[tradition_id] = tradition
    return tradition
```

**Пример: Возникновение традиции охотничьего ритуала**

```
Год 8:
- Охотник Красный собирает группу перед охотой
- Все произносят молитву к духам
- Охота успешна (добыча много)

Год 9:
- Красный повторяет: молитва + охота
- Снова успешно!

Год 10:
- Третий раз: молитва + охота + успех!

Результат:
✓ success_count = 3
✓ Возникает традиция "охотничий ритуал"
✓ Теперь ВСЕ охотники это делают
✓ Даже если логики никакой нет (молитва не помогает)
```

### 2.5. Примеры традиций в симуляции

#### Ранние традиции (Год 0-10): Практические обычаи

```python
# Сезонные праздники
tradition = tradition_system.add_seasonal_celebration(
    name="Праздник Урожая",
    season="осень",
    year=5,
    description="Благодарность духам за урожай"
)
tradition.social_cohesion_bonus = 0.2  # +20% сплочённости

# Обряды переходу
tradition = Tradition(
    id="initiation_hunting",
    name="Инициация охотника",
    tradition_type=TraditionType.INITIATION,
    description="Юноша должен убить первого зверя",
    year_emerged=4,
    trigger="age:16",
    behavior_effects={"hunting_skill": 0.5, "courage": 0.3},
)
```

---

## 3. Система Социальных Норм (NormSystem)

### 3.1. Философская основа

Социальные нормы — это **правила поведения**, которые:
- **Отражают экономические отношения** — нормы собственности защищают владельцев
- **Соблюдаются неравномерно** — один класс может игнорировать нормы, наложенные на других
- **Механизм социального контроля** — штрафы за нарушения принуждают соблюдать
- **Могут быть противоречивыми** — система воздействует, может ослабевать или усиливаться

> "Право есть совокупность условий, в которых интересы одного человека или класса могут быть согласованы с интересами другого человека или класса" — Маркс

**В симуляции нормы:**
1. **Ограничивают поведение** — невозможно совершить запрещённое действие
2. **Зависят от класса** — привилегированные классы менее ограничены
3. **Усиливаются/ослабляются** — в зависимости от власти класса-бенефициара
4. **Отражаются в наказаниях** — нарушение имеет последствия

### 3.2. Типы норм (NormType)

| Тип | Описание | Примеры | Бенефициар |
|-----|---------|---------|-----------|
| **PROPERTY** | Защита собственности | "Чужое имущество неприкосновенно" | LANDOWNER |
| **LABOR** | Регулирование труда | "Работа 10 часов в день" | LANDOWNER |
| **FAMILY** | Организация семьи | "Наследование по мужской линии" | LANDOWNER |
| **VIOLENCE** | Регулирование насилия | "Нельзя убивать своих" | ВСЕ (в примитиве) |
| **SHARING** | Распределение ресурсов | "Делись с общиной" | ВСЕ (в примитиве) |
| **AUTHORITY** | Подчинение иерархии | "Слушайся вождя" | LANDOWNER |

### 3.3. Структура нормы (SocialNorm)

```python
@dataclass
class SocialNorm:
    """Социальная норма - правило поведения"""

    # Идентификация
    id: str                         # "property_protection"
    name: str                       # "защита владения"
    norm_type: NormType             # Тип нормы
    description: str                # "Чужое имущество неприкосновенно"

    # Бенефициар (КЛЮЧЕВОЙ МОМЕНТ)
    benefits_class: str             # Какому классу выгодна ("LANDOWNER")

    # Исполнение
    punishment_severity: float      # 0-1: как больно за нарушение (0.7 = очень больно)
    compliance_rate: float          # 0-1: насколько её соблюдают (0.8 = 80%)

    # История
    year_established: int           # Когда была установлена
```

### 3.4. Ограничения норм на действия

Нормы ограничивают действия, но не одинаково для всех:

```python
def get_action_constraint(self, action: str, actor_class: str) -> float:
    """
    Возвращает ограничение нормы для действия.

    Returns:
        float: Степень ограничения (0.0 = разрешено, 1.0 = полный запрет)
    """
    # Маппинг: действие -> норма, которая его ограничивает
    action_to_norm = {
        "theft": "property_protection",
        "violence": "no_internal_violence",
        "refusing_help": "mutual_aid",
    }

    norm_id = action_to_norm.get(action)
    if not norm_id or norm_id not in self.norms:
        return 0.0  # Нет ограничений

    norm = self.norms[norm_id]

    # Базовое ограничение = серьёзность * соблюдаемость
    constraint = norm.punishment_severity * norm.compliance_rate

    # КЛЮЧЕВОЙ МОМЕНТ: привилегированные классы менее ограничены
    if norm.benefits_class and actor_class == norm.benefits_class:
        constraint *= 0.5  # Вполовину менее ограничены!

    return min(1.0, constraint)
```

**Пример: Воровство земли**

```
Норма: "property_protection" (защита владения)
- punishment_severity = 0.7
- compliance_rate = 0.85
- benefits_class = "LANDOWNER"

Ограничение для LANDLESS:
- constraint = 0.7 * 0.85 = 0.595
- После умножения на класс: 0.595 * 1.0 = 0.595
- Вероятность воровства: 60% (очень ограничено!)

Ограничение для LANDOWNER:
- constraint = 0.7 * 0.85 = 0.595
- После умножения на класс: 0.595 * 0.5 = 0.2975
- Вероятность захвата чужой земли: 70% (не ограничено!)
- ПОЯСНЕНИЕ: LANDOWNER может захватывать землю (называется "освоением")
```

### 3.5. Примеры норм в симуляции

#### Примитивная община (Год 0-10)

```python
# Взаимопомощь (выгодна всем)
SocialNorm(
    id="mutual_aid",
    name="взаимопомощь",
    norm_type=NormType.SHARING,
    description="Члены общины помогают друг другу",
    punishment_severity=0.3,
    compliance_rate=0.9,
    # benefits_class не установлен (выгодна всем)
)

# Запрет насилия внутри общины
SocialNorm(
    id="no_internal_violence",
    name="мир внутри общины",
    norm_type=NormType.VIOLENCE,
    description="Насилие против своих недопустимо",
    punishment_severity=0.8,
    compliance_rate=0.95,
)
```

#### Классовое общество (Год 10+)

```python
# Защита собственности (выгодна LANDOWNER)
SocialNorm(
    id="property_protection",
    name="защита владения",
    norm_type=NormType.PROPERTY,
    description="Чужое имущество неприкосновенно",
    benefits_class="LANDOWNER",
    punishment_severity=0.7,
    compliance_rate=0.8,
    year_established=12,
)

# Трудовая норма (выгодна LANDOWNER)
SocialNorm(
    id="labor_obligation",
    name="работа по заданию",
    norm_type=NormType.LABOR,
    description="Работник должен выполнять команды",
    benefits_class="LANDOWNER",
    punishment_severity=0.6,
    compliance_rate=0.75,
    year_established=13,
)
```

### 3.6. Обновление норм (Norm Evolution)

Нормы усиливаются или ослабляются в зависимости от власти классов:

```python
def update_compliance_from_class_power(self, class_power: Dict[str, float]) -> None:
    """
    По Марксу: нормы, выгодные господствующему классу,
    соблюдаются лучше благодаря институциональной поддержке.
    """
    for norm in self.norms.values():
        if not norm.benefits_class:
            continue  # Нейтральные нормы не меняются

        # Власть класса-бенефициара
        power = class_power.get(norm.benefits_class, 0.0)

        if power > 0.3:
            # Сильная поддержка — норма усиливается
            norm.compliance_rate = min(0.95, norm.compliance_rate + power * 0.1)
        elif power < 0.1:
            # Слабая поддержка — норма ослабляется
            norm.compliance_rate = max(0.4, norm.compliance_rate - 0.05)
```

---

## 4. Надстройка и Базис (Superstructure-Basis Relationship)

### 4.1. Теоретическая основа

В марксистской теории **базис** (экономика) определяет **надстройку** (культура):

```
БАЗИС (Экономика)
├─ Способ производства
├─ Собственность на средства производства
├─ Классовые отношения
└─ Разделение труда
        ↓↓↓ ОПРЕДЕЛЯЕТ ↓↓↓
НАДСТРОЙКА (Культура)
├─ Верования и идеология
├─ Традиции и обычаи
├─ Социальные нормы
└─ Право и государство
```

> "Общественное сознание определяется общественным бытием" — К. Маркс

**Направленность:**
- Экономика → Культура (одностороннее воздействие)
- Культура может **отставать** от экономики (верования устаревают)
- Культура может **опережать** экономику (идеи радикалов предвосхищают изменения)

### 4.2. Примеры взаимосвязи в симуляции

#### Пример 1: Появление частной собственности

```
ГОД 0-5: Примитивная коммуна
- БАЗИС: нет частной собственности, всё общее
- НАДСТРОЙКА: верования про общую собственность, нормы взаимопомощи
- Идеология: "всё принадлежит общине"

ГОД 10: Появилась частная земля
- БАЗИС: МЕНЯЕТСЯ! Вождь захватил лучшие земли
- НАДСТРОЙКА: ОТСТАЁТ! Старые верования про общность
- Конфликт: Старые верования противоречат новой экономике

ГОД 12: Возникает новая идеология
- БАЗИС: развита частная собственность
- НАДСТРОЙКА: МЕНЯЕТСЯ! Новое верование "собственность священна"
- Согласованность: Идеология оправдывает неравенство
- Результат: НЕРАВЕНСТВО кажется "естественным и вечным"
```

#### Пример 2: Восстание, опережающее осознание

```
ГОД 20: Экономический кризис, неурожай
- БАЗИС: появилось противоречие (мало еды, много рабов)
- НАДСТРОЙКА: ОТСТАЁТ! Верования про "божественный порядок"

ГОД 21: Радикальные идеи появляются
- Молодой философ: "Порядок несправедлив! Рабы — люди!"
- НАДСТРОЙКА: ОПЕРЕЖАЕТ базис (идеи радикальнее, чем экономика)
- Следствие: Идеи находят отклик у угнетённых

ГОД 22: Восстание рабов
- ЭКОНОМИКА МЕНЯЕТСЯ под давлением идеологии
- Рабы захватывают власть
- Новая идеология побеждает старую
```

### 4.3. Механизм в коде

В симуляции связь базиса и надстройки выражается через:

```python
# 1. Появление верований из экономических условий
def check_belief_emergence(self, economic_conditions, social_conditions, year):
    """Верования возникают из базиса, не из воздуха"""

    # SACRED_PROPERTY появляется ИЗ частной собственности
    if economic_conditions.get("private_property_exists"):
        if economic_conditions.get("inequality", 0) > 0.3:
            # ✓ Условие созрело
            return new Belief(
                origin=BeliefOrigin.ECONOMIC,  # ← ВАЖНО!
                ...
            )

# 2. Классовые интересы определяют, какие верования "побеждают"
def spread_belief(self, belief_id, from_npc, to_npc, npc_class):
    """Верования распространяются, если выгодны классу"""

    belief = self.beliefs[belief_id]

    if belief.benefits_class == npc_class:
        influence *= 2.0  # Легче принять выгодное верование
    elif belief.opposes_class == npc_class:
        influence *= 0.2  # Сложнее принять вредящее

# 3. Доминирующая идеология отражает класс-хозяин
def update_dominant_ideology(self, class_power):
    """Идеи господствующего класса становятся господствующими"""

    dominant_class = max(class_power.keys(),
                        key=lambda c: class_power[c])

    for belief in self.beliefs.values():
        if belief.benefits_class == dominant_class:
            self.dominant_beliefs.append(belief.id)
```

---

## 5. Классовое Сознание (Class Consciousness) — Планируется

### 5.1. Текущее состояние (As-Is)

**ОГРАНИЧЕНИЕ:** Классовое сознание сейчас **не реализовано полностью**.

Текущие возможности:
- ✓ Верования отражают классовые интересы
- ✓ Классы имеют разные модификаторы поведения
- ✓ Доминирующая идеология отражает мощный класс
- ✗ Нет коллективного сознания класса (класс как субъект истории)
- ✗ Нет органических интеллектуалов (лидеров классового сознания)
- ✗ Нет революционного сознания (идеи коренного переустройства)
- ✗ Нет классовой борьбы на уровне идеологии

### 5.2. Планируемое состояние (To-Be)

**УЛУЧШЕНИЯ ИЗ TASK 002:**

Смотрите: `./.auto-claude/specs/002-/EPIC_SUPERSTRUCTURE.md`

Планируется реализовать:

1. **SUP-001: Class Consciousness System**
   - Класс как коллективный субъект
   - Измерение уровня классового сознания (0-100%)
   - Переход от класса-в-себе (объективный) к классу-для-себя (субъективный)

2. **SUP-003: Organic Intellectuals** (по Грамши)
   - NPC могут становиться идеологами класса
   - Они формируют идеологию, выражающую интересы класса
   - Влияют на распространение идей

3. **SUP-004: Revolutionary Consciousness**
   - Возможность появления радикальных идей
   - Идеи коренного преустройства (рай на земле, полное равенство)
   - Революционные восстания, опирающиеся на новую идеологию

4. **SUP-005: Ideological Hegemony**
   - Процесс завоевания культурного доминирования
   - Не просто как носитель силы, а как культурный лидер
   - Создание "здравого смысла" для класса

---

## 6. Гегемония (Hegemony) — Планируется

### 6.1. Теоретическое введение

По Антонио Грамши, **гегемония** — это:
- Доминирование одного класса достигается не только через силу (насилие)
- Но также через **культурное лидерство** — когда его идеи становятся "здравым смыслом"
- Когда даже угнетённые верят в его правоту

> "Состояние целеустремленного согласия, произвольно согласованного между антагонистическими группами с помощью аппарата государства" — А. Грамши

**Отличие от просто власти:**
- **Власть**: "Я принуждаю вас подчиняться"
- **Гегемония**: "Вы верите, что подчиняться — правильно"

### 6.2. Механизмы гегемонии

1. **Культурное лидерство**
   - Идеи класса-гегемона становятся универсальными
   - "Это не интересы класса, это закон природы / воля божья / прогресс"

2. **Интеллектуалы и идеологи**
   - Философы, священники, учёные распространяют идеологию
   - Они органические интеллектуалы класса

3. **Воспроизводство в образовании**
   - Дети учатся верить в "естественность" порядка
   - Система образования распространяет идеологию

4. **Разделения "здравого смысла"**
   - То что кажется "нормальным" — результат идеологии
   - "Вождь — прирождённый лидер", "благородные рождены для правления"

### 6.3. Текущее состояние (As-Is)

**ОГРАНИЧЕНИЕ:** Гегемония не реализована.

Текущие возможности:
- ✓ Верования распространяются через NPC
- ✓ Мощный класс навязывает верования
- ✓ Нормы усиливаются, если класс в власти
- ✗ Нет активного процесса завоевания гегемонии
- ✗ Нет сопротивления (контргегемонии)
- ✗ Нет трансформации верований через давление сверху

### 6.4. Планируемое состояние (To-Be)

**УЛУЧШЕНИЯ:**

1. **Hegemonic Struggle** (борьба за гегемонию)
   - Класс-гегемон активно распространяет свою идеологию
   - Угнетённые классы создают контридеологию
   - Борьба на уровне идей (не только оружия)

2. **Cultural Leadership**
   - Интеллектуалы класса формируют идеологию
   - Создают "здравый смысл" эпохи

3. **Normalization of Ideology**
   - То что раньше казалось странным, становится "очевидным"
   - Идеология встраивается в обыденное сознание

4. **Counter-Hegemony**
   - Угнетённые классы создают свою альтернативную идеологию
   - Может привести к революции

---

## 7. Текущие Ограничения и Проблемы

### 7.1. В Системе Верований

| Проблема | Описание | Влияние | Решение |
|----------|---------|--------|---------|
| **Верования не забываются** | Раз появившись, верование вечно существует | Нереальная история верований | Нужна система забывания верований |
| **Конфликты верований не имеют последствий** | Противоречивые верования соседствуют без конфликта | Отсутствие идеологической борьбы | Идеологические кризисы, революции |
| **Нет эволюции верований** | Верования не меняются, не уточняются | Верования вечно примитивны | Нужна эволюция верований в ответ на события |

### 7.2. В Системе Традиций

| Проблема | Описание | Влияние | Решение |
|----------|---------|--------|---------|
| **Традиции бесполезны** | Даже вредные традиции сохраняются | Нереалистичная стагнация | Традиции должны ослабевать без результата |
| **Нет отмирания традиций** | Древние традиции не исчезают | Культурная инерция нереальна | Система смены поколений традиций |
| **Нет рассинхронизации** | Традиции не конфликтуют с изменённой экономикой | Нет идеологических кризисов | Новые традиции вытесняют старые |

### 7.3. В Системе Норм

| Проблема | Описание | Влияние | Решение |
|----------|---------|--------|---------|
| **Нормы статичны** | Базовые нормы заложены в начале | Нет эволюции системы правил | Нормы должны возникать как верования |
| **Соблюдение не коллективно** | Каждый NPC сам решает нарушить норму | Нет социального давления | Нужно давление сообщества |
| **Нет санкций** | Нарушение нормы не имеет явных последствий | Нормы не работают | Система наказаний и репутации |

### 7.4. Базис-Надстройка (общие)

| Проблема | Описание | Влияние | Решение |
|----------|---------|--------|---------|
| **Одностороннее влияние** | Надстройка не влияет на базис | Нет революций, идеологический кризис невозможен | Двусторонняя связь |
| **Нет отставания надстройки** | Верования сразу адаптируются к экономике | Нет конфликтов, нет кризисов | Инерция верований, запоздалое приспособление |
| **Нет опережения надстройки** | Идеи не предвосхищают изменения | Нет революционного авангарда | Радикальные идеи должны появляться |

---

## 8. Планируемые Улучшения на Основе Task 002

### 8.1. Из EPIC-SUPERSTRUCTURE

Смотрите полный список: `./.auto-claude/specs/002-/EPIC_SUPERSTRUCTURE.md`

Краткая сводка основных улучшений:

| ID | Название | Сложность | Описание |
|----|----------|-----------|----------|
| **SUP-001** | Class Consciousness System | Высокая | Класс как коллективный субъект с уровнем сознания |
| **SUP-002** | Ideological Conflict Resolution | Средняя | Борьба между верованиями |
| **SUP-003** | Organic Intellectuals (Gramsci) | Высокая | Идеологи класса, формирующие сознание |
| **SUP-004** | Revolutionary Consciousness | Высокая | Радикальные идеи и революции |
| **SUP-005** | Ideological Hegemony | Высокая | Культурное доминирование класса |
| **SUP-006** | Generational Belief Shifts | Средняя | Поколения переносят верования |
| **SUP-007** | Normalization of Hierarchy | Средняя | Иерархия становится "естественной" |
| **SUP-008** | Counter-Hegemony Construction | Высокая | Угнетённые создают альтернативную идеологию |
| **SUP-009** | Cultural Synthesis | Средняя | Синтез старых и новых верований |
| **SUP-010** | Belief Decay System | Низкая | Верования забываются, если не используются |

### 8.2. Временный график (Оценка)

- **Неделя 1-2**: SUP-001, SUP-002 (базовые системы)
- **Неделя 3-4**: SUP-003, SUP-006 (интеллектуалы и поколения)
- **Неделя 5-6**: SUP-004, SUP-005 (революция и гегемония)
- **Неделя 7-8**: SUP-007, SUP-008 (нормализация и сопротивление)
- **Неделя 9**: SUP-009, SUP-010 (финальные улучшения)

---

## 9. Диаграммы и Примеры

### 9.1. Диаграмма: Жизненный цикл верования

```
ЗАРОЖДЕНИЕ (BeliefOrigin)
    ↓
    Условия созрели в базисе
    (например: частная собственность появилась)
    ↓
ВОЗНИКНОВЕНИЕ (check_belief_emergence)
    ↓
    Верование появляется в системе
    ↓
РАСПРОСТРАНЕНИЕ (spread_belief)
    ↓
    NPC, чьему классу выгодно, принимают верование
    ↓
ДОМИНИРОВАНИЕ (update_dominant_ideology)
    ↓
    Мощный класс распространяет верование
    ↓
КОНСЕНСУС
    ↓
    Верование становится "очевидной истиной"
    (КРАХ БАЗИСА?)
    ↓
ДЕГРАДАЦИЯ (если базис меняется)
    ↓
    Верование становится анахронизмом
    (планируется: Belief Decay)
    ↓
ЗАБЫВАНИЕ (ПЛАНИРУЕТСЯ)
    ↓
    Верование исчезает
```

### 9.2. Диаграмма: Циркуляция верований и класса

```
КЛАСС (экономическая реальность)
     ↓
     ├─→ Интересы класса
     │   ("мне нужна идеология защиты собственности")
     │
     └─→ Интеллектуалы класса
         ↓
         Создают/распространяют верование
         ("собственность священна!")
         ↓
         ВЕРОВАНИЕ (надстройка)
         ↓
         ├─→ Поведение NPC
         │   (люди не воруют, боятся)
         │
         └─→ Укрепление КЛАССА
             (собственность защищена)
             ↓
             Класс становится ещё мощнее
             ↓
             Верование кажется "правдой"
```

### 9.3. Пример: История верований в одной семье

```
ГОД 0: Семья Охотников
- Верования: анимизм, уважение к природе
- Традиции: охотничий ритуал, праздник урожая
- Нормы: взаимопомощь, мир в общине
- Класс: нет классов, все равны

ГОД 10: Появилась земля
- Охотник Красный захватил лучшие земли
- Класс: Красный = LANDOWNER, остальные = LANDLESS
- Красный нуждается в идеологии защиты
- Появляется верование: "земля священна, владение неприкосновенно"
- Красный распространяет это верование

ГОД 12: Два внука Красного
- Внук-наследник (получит земли):
  ✓ Легко принимает верование "владение священно"
  ✓ Верит в "божественный порядок"

- Внук-безземельный (не получит ничего):
  ✗ Сопротивляется верованию
  ✗ Тайно верит в "равенство"

ГОД 20: Восстание
- Безземельный внук возглавляет восстание
- Он проповедует верование "равенство" и "земля для всех"
- Верование распространяется среди LANDLESS
- Битва верований: "равенство" vs "священность владения"
- Побеждает... тот класс, который сильнее!
```

---

## 10. Интеграция с Другими Системами

### 10.1. С Экономической Системой

- **Верования** влияют на производство: трудолюбие, уважение к собственности
- **Нормы** ограничивают распределение: норма защиты собственности предотвращает кражи
- **Традиции** создают шаблоны: праздники влияют на график работы

Смотрите: [`4_ECONOMIC_SYSTEM.md`](4_ECONOMIC_SYSTEM.md)

### 10.2. С Социальной Системой

- **Классовое сознание** (когда будет) объединит членов класса
- **Верования** воспроизводят классовые отношения через социализацию
- **Семья** передаёт верования из поколения в поколение

Смотрите: [`5_SOCIETY_SYSTEM.md`](5_SOCIETY_SYSTEM.md)

### 10.3. С NPC и AI системой

- **NPC** руководствуются верованиями и нормами в решениях
- **BDI-архитектура** включает верования в beliefs
- **Память** (Generative Agents) запоминает события культуры

Смотрите: [`7_NPC_SYSTEM.md`](7_NPC_SYSTEM.md) (планируется)

### 10.4. С Симуляционным Ядром

- **Порядок обновления**: экономика → общество → культура → NPC
- **События** (EventBus) могут вызывать появление новых верований
- **Диалектический анализ** помогает предсказать кризисы

Смотрите: [`3_SIMULATION_CORE.md`](3_SIMULATION_CORE.md)

---

## 11. Код: Полный Пример Использования

```python
# === Инициализация систем ===
belief_system = BeliefSystem()
tradition_system = TraditionSystem()
norm_system = NormSystem()

# === ГОД 0: Примитивная коммуна ===
print("=== ГОД 0: Примитивная коммуна ===")

# Люди взаимодействуют с природой
economic_conditions = {
    "gathering_activity": 0.5,
    "private_property_exists": False,
}
social_conditions = {
    "deaths_occurred": 0,
    "classes_emerged": False,
}

# Появляется первое верование
new_belief = belief_system.check_belief_emergence(
    economic_conditions, social_conditions, year=0
)
print(f"Новое верование: {new_belief.name} ({new_belief.belief_type.value})")
# Output: Новое верование: духи природы (анимизм)

# === ГОД 5: Появилась смерть ===
print("\n=== ГОД 5: Появилась смерть ===")
social_conditions["deaths_occurred"] = 5

new_belief = belief_system.check_belief_emergence(
    economic_conditions, social_conditions, year=5
)
print(f"Новое верование: {new_belief.name} ({new_belief.belief_type.value})")
# Output: Новое верование: почитание предков (культ предков)

# === ГОД 10: Появилась частная собственность ===
print("\n=== ГОД 10: Появилась частная собственность ===")
economic_conditions["private_property_exists"] = True
economic_conditions["inequality"] = 0.45

new_belief = belief_system.check_belief_emergence(
    economic_conditions, social_conditions, year=10
)
print(f"Новое верование: {new_belief.name}")
print(f"  - Выгодно: {new_belief.benefits_class}")
print(f"  - Вредит: {new_belief.opposes_class}")
# Output:
# Новое верование: священность владения
#   - Выгодно: LANDOWNER
#   - Вредит: LANDLESS

# === Распространение верований ===
print("\n=== Распространение верований ===")

# NPC с разными классами
class_map = {
    "npc_001": "LANDOWNER",  # Землевладелец
    "npc_002": "LANDLESS",   # Безземельный
}

# LANDOWNER легко принимает верование
success = belief_system.spread_belief(
    belief_id="property_sacred",
    from_npc="npc_001",
    to_npc="npc_001",
    influence=0.1,
    to_npc_class="LANDOWNER"
)
print(f"LANDOWNER принял верование: {success}")  # True вероятно

# LANDLESS сопротивляется верованию
success = belief_system.spread_belief(
    belief_id="property_sacred",
    from_npc="npc_001",
    to_npc="npc_002",
    influence=0.1,
    to_npc_class="LANDLESS"
)
print(f"LANDLESS принял верование: {success}")  # False вероятно

# === Доминирующая идеология ===
print("\n=== Доминирующая идеология ===")

class_power = {
    "LANDOWNER": 0.7,  # Мощный класс
    "LANDLESS": 0.3,   # Слабый класс
}

belief_system.update_dominant_ideology(class_power)
print(f"Доминирующие верования: {belief_system.dominant_beliefs}")
# Output: Доминирующие верования: ['property_sacred', 'hierarchy_divine']

# === Традиции ===
print("\n=== Традиции ===")

# Охотники успешно охотились 3 раза подряд
tradition = tradition_system.check_tradition_emergence(
    repeated_event="охотничий ритуал",
    success_count=3,
    year=8
)
print(f"Новая традиция: {tradition.name}")
# Output: Новая традиция: обычай охотничий ритуал

# === Нормы ===
print("\n=== Нормы ===")

# Добавляем норму защиты собственности
norm = norm_system.add_property_norm(year=10)
print(f"Новая норма: {norm.name}")

# Проверяем ограничение для разных классов
landowner_constraint = norm_system.get_action_constraint(
    "theft", "LANDOWNER"
)
landless_constraint = norm_system.get_action_constraint(
    "theft", "LANDLESS"
)

print(f"Ограничение для LANDOWNER: {landowner_constraint:.2f}")
print(f"Ограничение для LANDLESS: {landless_constraint:.2f}")
# Output:
# Ограничение для LANDOWNER: 0.30
# Ограничение для LANDLESS: 0.60

# === Статистика ===
print("\n=== Статистика ===")
print(f"Верований: {belief_system.get_statistics()}")
print(f"Традиций: {tradition_system.get_statistics()}")
print(f"Норм: {norm_system.get_statistics()}")
```

---

## 12. Ссылки и Кросс-ссылки

### Основные документы
- [`1_INTRODUCTION.md`](1_INTRODUCTION.md) — Философия проекта
- [`2_ARCHITECTURE_OVERVIEW.md`](2_ARCHITECTURE_OVERVIEW.md) — Архитектура системы
- [`3_SIMULATION_CORE.md`](3_SIMULATION_CORE.md) — Цикл симуляции
- [`4_ECONOMIC_SYSTEM.md`](4_ECONOMIC_SYSTEM.md) — Экономический базис
- [`5_SOCIETY_SYSTEM.md`](5_SOCIETY_SYSTEM.md) — Социальная структура

### Специализированные документы
- [`7_NPC_SYSTEM.md`](7_NPC_SYSTEM.md) — NPC и AI (планируется)
- [`8_WORLD_ENVIRONMENT.md`](8_WORLD_ENVIRONMENT.md) — Мир и климат (планируется)
- [`9_GAME_MECHANICS.md`](9_GAME_MECHANICS.md) — Игровые механики (планируется)

### Справочные материалы
- [`DOCUMENTATION_ROADMAP.md`](DOCUMENTATION_ROADMAP.md) — Карта документации
- [`11_GLOSSARY.md`](11_GLOSSARY.md) — Глоссарий терминов (планируется)
- [`10_FUTURE_STATE.md`](10_FUTURE_STATE.md) — Планируемое будущее (планируется)
- [`12_DEVELOPER_GUIDE.md`](12_DEVELOPER_GUIDE.md) — Руководство разработчика (планируется)

### Файлы исходного кода
- [`src/culture/beliefs.py`](../src/culture/beliefs.py) — Реализация верований
- [`src/culture/traditions.py`](../src/culture/traditions.py) — Реализация традиций
- [`src/culture/norms.py`](../src/culture/norms.py) — Реализация норм
- [`src/core/simulation.py`](../src/core/simulation.py) — Главный цикл симуляции

---

## 13. Заключение

Культурная система — это сердце идеологии в симуляции. Она воплощает марксистский принцип, что **надстройка определяется базисом**, и показывает как:

1. **Верования возникают из условий** — не задаются свыше
2. **Идеология служит интересам класса** — господствующий класс распространяет идеи, выгодные ему
3. **Культура воспроизводит общественный строй** — традиции, нормы, верования пропагандируют существующий порядок
4. **Возможны кризисы** — когда надстройка отстаёт от базиса, возникают конфликты
5. **История открыта** — новые верования, новые идеи могут изменить общество

**Ключевые цифры:**
- 10 типов верований (анимизм → равенство)
- 5 типов традиций (ритуалы, обычаи, праздники, табу, инициация)
- 6 типов норм (собственность, труд, семья, насилие, распределение, власть)
- 197 проблем из Task 002, из них 27 для культурной системы

**Для разработчиков:**
- Культурная система — модуль `src/culture/`
- Смотрите примеры кода в разделе 11
- Для улучшений: смотрите EPIC-SUPERSTRUCTURE в Task 002

---

*Документ создан: 2 февраля 2026 г.*
*Версия: 1.0*
*Язык: Русский*
*Статус: Завершено*
